"use strict";

var IMatch = require("./ifmatch");
var fdevsta_monmove_1 = require("fdevsta_monmove");
exports.oKeyOrder = ["systemObjectCategory", "systemId", "systemObjectId"];
var mUnitTestURLMap = {};
var aregex = /\/([^/]*).qunit.html/;
var UnitTestList = [
// alphabetic order please
'test-resources/sap/ushell/qunit/adapters/cdm/ClientSideTargetResolutionAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/cdm/CommonDataModelAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/cdm/LaunchPageAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/AppStateAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/ClientSideTargetResolutionAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/ContainerAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/EndUserFeedbackAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/NavTargetResolutionAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/PersonalizationAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/SupportTicketAdapterTest.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/UserDefaultParameterPersistenceAdapter.qunit.html', 'test-resources/sap/ushell/qunit/adapters/local/UserInfoAdapter.qunit.html', 'test-resources/sap/ushell/qunit/bootstrap/sandbox.qunit.html', 'test-resources/sap/ushell/qunit/CanvasShapesManager.qunit.html', 'test-resources/sap/ushell/qunit/components/container/ApplicationContainer.qunit.html', 'test-resources/sap/ushell/qunit/components/factsheet/annotation/ODataURLTemplating.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/ComponentKeysHandler.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/FlpApp.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/appfinder/EasyAccess.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/DashboardManager.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/PagingManager.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/appfinder/AppFinder.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/appfinder/GroupListPopover.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/appfinder/HierarchyApps.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/appfinder/HierarchyFolders.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/userPreferences/LanguageRegionSelector.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/dashboard/DashboardContent.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/launchpad/dashboard/DashboardUIActions.qunit.html', 'test-resources/sap/ushell/qunit/components/flp/settings/FlpSettings.qunit.html', 'test-resources/sap/ushell/qunit/components/tiles/applauncher/StaticTile.qunit.html', 'test-resources/sap/ushell/qunit/components/tiles/applauncherdynamic/DynamicTile.qunit.html', 'test-resources/sap/ushell/qunit/components/tiles/cdm/applauncher/StaticTile.qunit.html', 'test-resources/sap/ushell/qunit/components/tiles/cdm/applauncherdynamic/DynamicTile.qunit.html', 'test-resources/sap/ushell/qunit/components/tiles/utils.qunit.html', 'test-resources/sap/ushell/qunit/components/tiles/utilsRT.qunit.html', 'test-resources/sap/ushell/qunit/components/userActivity/userActivityLog.qunit.html',
// "test-resources/sap/ushell/qunit/demoapps/UserDefaultPluginSample/UserDefaultPluginSample.qunit.html", // Currently not run inside the QUnit Test Loader for ushell-lib
'test-resources/sap/ushell/qunit/FLPAnalytics.qunit.html', 'test-resources/sap/ushell/qunit/Layout.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/AccessKeysHandler.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/DefaultParameters/DefaultParameters.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/Lifecycle.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/meArea/MeArea.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/meArea/UserSettings.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/notifications/Notifications.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/notifications/Settings.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/Renderer.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/RendererExtensions.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/Shell.qunit.html', 'test-resources/sap/ushell/qunit/renderers/fiori2/UIActions.qunit.html', 'test-resources/sap/ushell/qunit/services/AppConfiguration.qunit.html', 'test-resources/sap/ushell/qunit/services/AppContext.qunit.html', 'test-resources/sap/ushell/qunit/services/AppLifeCycle.qunit.html', 'test-resources/sap/ushell/qunit/services/AppState.qunit.html', 'test-resources/sap/ushell/qunit/services/Bookmark.qunit.html', 'test-resources/sap/ushell/qunit/services/ClientSideTargetResolution.qunit.html', 'test-resources/sap/ushell/qunit/services/CommonDataModel.qunit.html', 'test-resources/sap/ushell/qunit/services/CommonDataModel/PersonalizationProcessor.qunit.html', 'test-resources/sap/ushell/qunit/services/CommonDataModel/PersonalizationProcessorCDMBlackbox.qunit.html', 'test-resources/sap/ushell/qunit/services/Container.qunit.html', 'test-resources/sap/ushell/qunit/services/CrossApplicationNavigation.qunit.html', 'test-resources/sap/ushell/qunit/services/EndUserFeedback.qunit.html', 'test-resources/sap/ushell/qunit/services/LaunchPage.qunit.html', 'test-resources/sap/ushell/qunit/services/Message.qunit.html', 'test-resources/sap/ushell/qunit/services/NavTargetResolution.qunit.html', 'test-resources/sap/ushell/qunit/services/NavTargetResolutionCDMBlackbox.qunit.html', 'test-resources/sap/ushell/qunit/services/Notifications.qunit.html', 'test-resources/sap/ushell/qunit/services/Personalization.qunit.html', 'test-resources/sap/ushell/qunit/services/PluginManager.qunit.html', 'test-resources/sap/ushell/qunit/services/ReferenceResolver.qunit.html', 'test-resources/sap/ushell/qunit/services/ShellNavigation.History.qunit.html', 'test-resources/sap/ushell/qunit/services/ShellNavigation.qunit.html', 'test-resources/sap/ushell/qunit/services/SupportTicket.qunit.html', 'test-resources/sap/ushell/qunit/services/URLParsing.qunit.html', 'test-resources/sap/ushell/qunit/services/URLShortening.qunit.html', 'test-resources/sap/ushell/qunit/services/Ui5ComponentLoader.qunit.html', 'test-resources/sap/ushell/qunit/services/UsageAnalytics.qunit.html', 'test-resources/sap/ushell/qunit/services/UserDefaultParameterPersistence.qunit.html', 'test-resources/sap/ushell/qunit/services/UserDefaultParameters.qunit.html', 'test-resources/sap/ushell/qunit/services/UserInfo.qunit.html', 'test-resources/sap/ushell/qunit/services/UserRecents.qunit.html', 'test-resources/sap/ushell/qunit/services/SmartNavigation.qunit.html', 'test-resources/sap/ushell/qunit/System.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/AboutButton.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/AddBookmarkButton.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/ContactSupportButton.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/EndUserFeedback.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/JamDiscussButton.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/JamShareButton.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/LogoutButton.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/SettingsButton.qunit.html', 'test-resources/sap/ushell/qunit/ui/footerbar/UserPreferencesButton.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/AccessibilityCustomData.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/ActionItem.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/AnchorItem.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/AnchorNavigationBar.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/EmbeddedSupportErrorMessage.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/Fiori2LoadingDialog.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/GroupListItem.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/LinkTileWrapper.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/LoadingDialog.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/TileContainer.qunit.html', 'test-resources/sap/ushell/qunit/ui/launchpad/ViewPortContainer.qunit.html', 'test-resources/sap/ushell/qunit/ui/shell/FloatingContainer.qunit.html', 'test-resources/sap/ushell/qunit/ui/shell/RightFloatingContainer.qunit.html', 'test-resources/sap/ushell/qunit/ui/shell/ShellAppTitle.qunit.html', 'test-resources/sap/ushell/qunit/ui/shell/ShellLayout.qunit.html', 'test-resources/sap/ushell/qunit/ui/shell/ShellTitle.qunit.html', 'test-resources/sap/ushell/qunit/ui/shell/SplitContainer.qunit.html', 'test-resources/sap/ushell/qunit/ui/tile/DynamicTile.qunit.html', 'test-resources/sap/ushell/qunit/ui/tile/ImageTile.qunit.html', 'test-resources/sap/ushell/qunit/ui/tile/StaticTile.qunit.html', 'test-resources/sap/ushell/qunit/ui/tile/TileBase.qunit.html', 'test-resources/sap/ushell/qunit/ui5service/ShellUIService.qunit.html'];
var mUnitTestWords = UnitTestList.map(function (sEntry) {
    var sString = aregex.exec(sEntry)[1]; //.match('/([^/]*).qunit.html')[1]
    //console.log("here is the test " + sString);
    mUnitTestURLMap[sString] = "http://localhost:8080/sap/bc/" + sEntry;
    return {
        category: "unit test",
        matchedString: sString,
        type: IMatch.EnumRuleType.WORD,
        bitindex: 0x03,
        word: sString,
        _ranking: 0.95
    };
});
/* @covignore */
function getRuleMap() {
    var systemObjectCategory = [{
        type: IMatch.EnumRuleType.WORD,
        key: "systemObjectCategory",
        word: "unit test",
        follows: {
            systemObjectCategory: "unit test"
        }
    }, {
        type: IMatch.EnumRuleType.WORD,
        key: "systemObjectCategory",
        word: "unit",
        follows: {
            systemObjectCategory: "unit test"
        }
    }];
    /* @covignore */
    var systemObjectCategory2 = [["unit test", "unit"], ["wiki", "web page"], ["fiori catalog", "flp catalog", "catalog"], ["fiori group", "flp group", "group"], ["url"], ["flp", "fiori launchpad", "lauchpage", "launchpad"], ["flpd"]].map(function (aArr) {
        // console.log(JSON.stringify(aArr));
        var bestSynonym = aArr[0];
        return aArr.map(function (sEntry) {
            return {
                type: IMatch.EnumRuleType.WORD,
                key: "systemObjectCategory",
                word: sEntry,
                follows: {
                    systemObjectCategory: bestSynonym
                }
            };
        });
    });
    systemObjectCategory2 = systemObjectCategory2.reduce(function (a, b) {
        return a.concat(b);
    }, []);
    var systemObjectCategory = systemObjectCategory.concat(systemObjectCategory2);
    var oRuleMap = {
        "systemObjectCategory": systemObjectCategory,
        "systemId": [{
            regexp: /^([a-z0-9_]{3,3})CLNT(\d{3,3})$/i,
            key: 'systemId',
            argsMap: {
                1: 'systemId',
                2: 'client'
            },
            type: IMatch.EnumRuleType.REGEXP,
            follows: {}
        }, {
            regexp: /^([a-z0-9_]{3,3})$/i,
            key: 'systemId',
            argsMap: {
                1: 'systemId'
            },
            type: IMatch.EnumRuleType.REGEXP,
            follows: {}
        }]
    };
    var systemObjectId = UnitTestList.map(function (sEntry) {
        var sString = aregex.exec(sEntry)[1]; //.match('/([^/]*).qunit.html')[1]
        return {
            key: "systemObjectId",
            word: sString,
            type: IMatch.EnumRuleType.WORD,
            follows: {
                systemObjectCategory: "unit test",
                systemObjectId: sString
            }
        };
    }); // map
    var systemObjectId2 = [
    // wiki aliases, this is an old legacy foramt
    {
        key: 'Support page',
        res: 'CA-UI2-INT-FE support'
    }, { key: 'FCC ABAP Alignment' }, { key: 'UI2 test links' }, { key: 'Support schedule', res: 'TIP Core UI Integration support' }, { key: 'UII Support schedule', res: 'TIP Core UI Integration support' }, {
        key: 'UI2 Support page',
        res: 'CA-UI2-INT-FE support'
    }, {
        key: 'Backend Sprint Reviews',
        res: 'Backend Sprint Review'
    }, {
        key: 'UI5 patch schedule',
        res: 'UI5 UI2 Patch plan'
    }].map(function (oEntry) {
        return {
            word: oEntry.key,
            key: "systemObjectId",
            type: IMatch.EnumRuleType.WORD,
            follows: {
                systemObjectCategory: "wiki",
                systemObjectId: (oEntry.res || oEntry.key).toLowerCase()
            }
        };
    }); // map
    systemObjectId = systemObjectId.concat(systemObjectId2);
    systemObjectId = systemObjectId.concat([{
        type: IMatch.EnumRuleType.WORD,
        key: "systemObjectId",
        word: "flpd",
        follows: {}
    }, {
        type: IMatch.EnumRuleType.REGEXP,
        key: "systemObjectId",
        regexp: /^\S+$/i,
        follows: {
            _ranking: 0.9
        }
    }]);
    oRuleMap["systemObjectId"] = systemObjectId;
    return oRuleMap;
}
exports.getRuleMap = getRuleMap;
var mRuleArray;
function compareMRuleFull(a, b) {
    var r = a.category.localeCompare(b.category);
    if (r) {
        return r;
    }
    r = a.type - b.type;
    if (r) {
        return r;
    }
    if (a.matchedString && b.matchedString) {
        r = a.matchedString.localeCompare(b.matchedString);
        if (r) {
            return r;
        }
    }
    if (a.word && b.word) {
        var r = a.word.localeCompare(b.word);
        if (r) {
            return r;
        }
    }
    r = (a._ranking || 1.0) - (b._ranking || 1.0);
    if (r) {
        return r;
    }
    if (a.exactOnly && !b.exactOnly) {
        return -1;
    }
    if (b.exactOnly && !a.exactOnly) {
        return +1;
    }
    return 0;
}
exports.compareMRuleFull = compareMRuleFull;
function cmpMRule(a, b) {
    var r = a.category.localeCompare(b.category);
    if (r) {
        return r;
    }
    r = a.type - b.type;
    if (r) {
        return r;
    }
    if (a.matchedString && b.matchedString) {
        r = a.matchedString.localeCompare(b.matchedString);
        if (r) {
            return r;
        }
    }
    if (a.word && b.word) {
        return a.word.localeCompare(b.word);
    }
    r = (a._ranking || 1.0) - (b._ranking || 1.0);
    if (r) {
        return r;
    }
    return 0;
    /*
    if(a.exactOnly && !b.exactOnly) {
      return -1;
    }
    if(b.exactOnly && !a.exactOnly) {
      return +1;
    }*/
}
exports.cmpMRule = cmpMRule;
function getIntMRulesSample() {
    var mRules = [];
    mRules = mRules.concat([
    // a generic rule for any id
    {
        type: IMatch.EnumRuleType.REGEXP,
        category: "systemObjectId",
        regexp: /^\S+$/i,
        bitindex: 0x01,
        _ranking: 0.5
    }, {
        type: IMatch.EnumRuleType.REGEXP,
        category: "fiori catalog",
        regexp: /^[A-Z0-9a-z_\/]+$/i,
        bitindex: 0x01,
        _ranking: 0.5
    }, {
        type: IMatch.EnumRuleType.REGEXP,
        category: "client",
        regexp: /^\d{3,3}$/i,
        bitindex: 0x01,
        _ranking: 0.8
    }, {
        type: IMatch.EnumRuleType.REGEXP,
        category: "systemId",
        regexp: /^[A-Z][A-Z0-9][A-Z0-9]$/i,
        bitindex: 0x01,
        _ranking: 0.7
    }, {
        type: IMatch.EnumRuleType.WORD,
        category: "systemId",
        word: "UV2",
        bitindex: 0x01,
        matchedString: "UV2"
    }, {
        type: IMatch.EnumRuleType.REGEXP,
        category: "transaction",
        regexp: /^[A-Z][A-Z0-9_]{3,3}$/i,
        bitindex: 0x01,
        _ranking: 0.7
    }, {
        type: IMatch.EnumRuleType.REGEXP,
        category: "fiori catalog",
        regexp: /^SAP_BC[A-Z][A-Z0-9_]*$/,
        bitindex: 0x01,
        _ranking: 0.85
    }, {
        type: IMatch.EnumRuleType.REGEXP,
        category: "fiori catalog",
        regexp: /^SAP_TC[A-Z][A-Z0-9_]*$/,
        bitindex: 0x01,
        _ranking: 0.85
    },
    // a few unit tests
    {
        category: "unit test",
        matchedString: "NavTargetResolution",
        type: 0,
        bitindex: 0x01,
        word: "NavTargetResolution"
    }, {
        category: "unit test",
        matchedString: "NavTargetResolutionAdapter",
        type: 0,
        bitindex: 0x01,
        word: "NavTargetResolutionAdapter"
    },
    // a few unit tests
    {
        category: "wiki",
        matchedString: "UI2 Integration",
        type: 0,
        bitindex: 0x01,
        word: "UI2 Integration"
    }, {
        category: "wiki",
        matchedString: "UI2 Support pages",
        type: 0,
        bitindex: 0x01,
        word: "UI2 Support pages"
    },
    // categories of this model
    {
        category: "category",
        matchedString: "wiki",
        type: 0,
        bitindex: 0x01,
        word: "wiki"
    }, {
        category: "category",
        matchedString: "unit test",
        type: 0,
        bitindex: 0x01,
        word: "unit test"
    }, {
        category: "category",
        matchedString: "url",
        type: 0,
        bitindex: 0x01,
        word: "url"
    }, {
        category: "category",
        matchedString: "transaction",
        type: 0,
        bitindex: 0x01,
        word: "transaction"
    }, {
        category: "category",
        matchedString: "transaction",
        type: 0,
        bitindex: 0x01,
        word: "ta"
    }, {
        category: "category",
        matchedString: "fiori catalog",
        type: 0,
        bitindex: 0x01,
        word: "fiori catalog"
    }, {
        category: "category",
        matchedString: "fiori catalog",
        type: 0,
        _ranking: 0.8,
        bitindex: 0x01,
        word: "catalog"
    }, {
        category: "category",
        matchedString: "systemId",
        type: 0,
        bitindex: 0x01,
        word: "system"
    }, {
        category: "category",
        matchedString: "client",
        type: 0,
        bitindex: 0x01,
        word: "client"
    },
    // tools of the sample model
    {
        category: "tool",
        matchedString: "FLPD",
        type: 0,
        bitindex: 0x01,
        word: "flpd"
    }, {
        category: "operator",
        matchedString: "starts with",
        type: 0,
        bitindex: 0x01,
        word: "starting with"
    }, {
        category: "tool",
        matchedString: "FLP",
        type: 0,
        bitindex: 0x01,
        word: "flp"
    }, {
        category: "tool",
        matchedString: "FLP",
        type: 0,
        bitindex: 0x01,
        word: "Fiori Launchpad"
    }, {
        category: "tool",
        matchedString: "wiki",
        type: 0,
        bitindex: 0x01,
        word: "wiki"
    },
    // fillers
    // tools of the sample model
    {
        category: "filler",
        type: 1,
        regexp: /^((start)|(show)|(from)|(in))$/i,
        matchedString: "filler",
        bitindex: 0x02,
        _ranking: 0.9
    }]);
    var mRules = assureLowerCaseWord(mRules);
    return mRules.sort(cmpMRule);
}
exports.getIntMRulesSample = getIntMRulesSample;
function getMRulesSample() {
    return fdevsta_monmove_1.Model.splitRules(getIntMRulesSample());
}
exports.getMRulesSample = getMRulesSample;
function assureLowerCaseWord(mRules) {
    return mRules.map(function (oRule) {
        if (oRule.type === IMatch.EnumRuleType.WORD) {
            oRule.lowercaseword = oRule.word.toLowerCase();
        }
        return oRule;
    });
}
exports.assureLowerCaseWord = assureLowerCaseWord;
function getUnitTestUrl(string) {
    return mUnitTestURLMap[string];
}
exports.getUnitTestUrl = getUnitTestUrl;
function getWikiUrl(string) {
    // TODO
    return mUnitTestURLMap[string];
}
exports.getWikiUrl = getWikiUrl;
function getMRulesFull() {
    var mRules = getIntMRulesSample();
    mRules = mRules.concat(mUnitTestWords);
    mRules = assureLowerCaseWord(mRules);
    return fdevsta_monmove_1.Model.splitRules(mRules.sort(cmpMRule));
}
exports.getMRulesFull = getMRulesFull;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGNoL2lucHV0RmlsdGVyUnVsZXMuanMiLCIuLi9zcmMvbWF0Y2gvaW5wdXRGaWx0ZXJSdWxlcy50cyJdLCJuYW1lcyI6WyJJTWF0Y2giLCJyZXF1aXJlIiwiZmRldnN0YV9tb25tb3ZlXzEiLCJleHBvcnRzIiwib0tleU9yZGVyIiwibVVuaXRUZXN0VVJMTWFwIiwiYXJlZ2V4IiwiVW5pdFRlc3RMaXN0IiwibVVuaXRUZXN0V29yZHMiLCJtYXAiLCJzRW50cnkiLCJzU3RyaW5nIiwiZXhlYyIsImNhdGVnb3J5IiwibWF0Y2hlZFN0cmluZyIsInR5cGUiLCJFbnVtUnVsZVR5cGUiLCJXT1JEIiwiYml0aW5kZXgiLCJ3b3JkIiwiX3JhbmtpbmciLCJnZXRSdWxlTWFwIiwic3lzdGVtT2JqZWN0Q2F0ZWdvcnkiLCJrZXkiLCJmb2xsb3dzIiwic3lzdGVtT2JqZWN0Q2F0ZWdvcnkyIiwiYUFyciIsImJlc3RTeW5vbnltIiwicmVkdWNlIiwiYSIsImIiLCJjb25jYXQiLCJvUnVsZU1hcCIsInJlZ2V4cCIsImFyZ3NNYXAiLCJSRUdFWFAiLCJzeXN0ZW1PYmplY3RJZCIsInN5c3RlbU9iamVjdElkMiIsInJlcyIsIm9FbnRyeSIsInRvTG93ZXJDYXNlIiwibVJ1bGVBcnJheSIsImNvbXBhcmVNUnVsZUZ1bGwiLCJyIiwibG9jYWxlQ29tcGFyZSIsImV4YWN0T25seSIsImNtcE1SdWxlIiwiZ2V0SW50TVJ1bGVzU2FtcGxlIiwibVJ1bGVzIiwiYXNzdXJlTG93ZXJDYXNlV29yZCIsInNvcnQiLCJnZXRNUnVsZXNTYW1wbGUiLCJNb2RlbCIsInNwbGl0UnVsZXMiLCJvUnVsZSIsImxvd2VyY2FzZXdvcmQiLCJnZXRVbml0VGVzdFVybCIsInN0cmluZyIsImdldFdpa2lVcmwiLCJnZXRNUnVsZXNGdWxsIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUNHQSxJQUFBQSxTQUFBQyxRQUFBLFdBQUEsQ0FBQTtBQUVBLElBQUFDLG9CQUFBRCxRQUFBLGlCQUFBLENBQUE7QUFH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QTtBQU1BLFNBQUFDLGFBQUEsR0FBQTtBQUNFLFFBQUlYLFNBQVNELG9CQUFiO0FBQ0FDLGFBQVNBLE9BQU9qQixNQUFQLENBQWN2QixjQUFkLENBQVQ7QUFDQXdDLGFBQVNDLG9CQUFvQkQsTUFBcEIsQ0FBVDtBQUNBLFdBQU85QyxrQkFBQWtELEtBQUEsQ0FBTUMsVUFBTixDQUFpQkwsT0FBT0UsSUFBUCxDQUFZSixRQUFaLENBQWpCLENBQVA7QUFDRDtBQUxEM0MsUUFBQXdELGFBQUEsR0FBQUEsYUFBQSIsImZpbGUiOiJtYXRjaC9pbnB1dEZpbHRlclJ1bGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgSU1hdGNoID0gcmVxdWlyZShcIi4vaWZtYXRjaFwiKTtcbnZhciBmZGV2c3RhX21vbm1vdmVfMSA9IHJlcXVpcmUoXCJmZGV2c3RhX21vbm1vdmVcIik7XG5leHBvcnRzLm9LZXlPcmRlciA9IFtcInN5c3RlbU9iamVjdENhdGVnb3J5XCIsIFwic3lzdGVtSWRcIiwgXCJzeXN0ZW1PYmplY3RJZFwiXTtcbnZhciBtVW5pdFRlc3RVUkxNYXAgPSB7fTtcbnZhciBhcmVnZXggPSAvXFwvKFteL10qKS5xdW5pdC5odG1sLztcbnZhciBVbml0VGVzdExpc3QgPSBbXG4gICAgLy8gYWxwaGFiZXRpYyBvcmRlciBwbGVhc2VcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9jZG0vQ2xpZW50U2lkZVRhcmdldFJlc29sdXRpb25BZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2NkbS9Db21tb25EYXRhTW9kZWxBZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2NkbS9MYXVuY2hQYWdlQWRhcHRlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9sb2NhbC9BcHBTdGF0ZUFkYXB0ZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvYWRhcHRlcnMvbG9jYWwvQ2xpZW50U2lkZVRhcmdldFJlc29sdXRpb25BZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2xvY2FsL0NvbnRhaW5lckFkYXB0ZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvYWRhcHRlcnMvbG9jYWwvRW5kVXNlckZlZWRiYWNrQWRhcHRlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9sb2NhbC9OYXZUYXJnZXRSZXNvbHV0aW9uQWRhcHRlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9sb2NhbC9QZXJzb25hbGl6YXRpb25BZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2xvY2FsL1N1cHBvcnRUaWNrZXRBZGFwdGVyVGVzdC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9sb2NhbC9Vc2VyRGVmYXVsdFBhcmFtZXRlclBlcnNpc3RlbmNlQWRhcHRlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9sb2NhbC9Vc2VySW5mb0FkYXB0ZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvYm9vdHN0cmFwL3NhbmRib3gucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvQ2FudmFzU2hhcGVzTWFuYWdlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2NvbnRhaW5lci9BcHBsaWNhdGlvbkNvbnRhaW5lci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2ZhY3RzaGVldC9hbm5vdGF0aW9uL09EYXRhVVJMVGVtcGxhdGluZy5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2ZscC9Db21wb25lbnRLZXlzSGFuZGxlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2ZscC9GbHBBcHAucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy9mbHAvbGF1bmNocGFkL2FwcGZpbmRlci9FYXN5QWNjZXNzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9EYXNoYm9hcmRNYW5hZ2VyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9QYWdpbmdNYW5hZ2VyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9hcHBmaW5kZXIvQXBwRmluZGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9hcHBmaW5kZXIvR3JvdXBMaXN0UG9wb3Zlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2ZscC9sYXVuY2hwYWQvYXBwZmluZGVyL0hpZXJhcmNoeUFwcHMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy9mbHAvbGF1bmNocGFkL2FwcGZpbmRlci9IaWVyYXJjaHlGb2xkZXJzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3JlbmRlcmVycy9maW9yaTIvdXNlclByZWZlcmVuY2VzL0xhbmd1YWdlUmVnaW9uU2VsZWN0b3IucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy9mbHAvbGF1bmNocGFkL2Rhc2hib2FyZC9EYXNoYm9hcmRDb250ZW50LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9kYXNoYm9hcmQvRGFzaGJvYXJkVUlBY3Rpb25zLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL3NldHRpbmdzL0ZscFNldHRpbmdzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvdGlsZXMvYXBwbGF1bmNoZXIvU3RhdGljVGlsZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL3RpbGVzL2FwcGxhdW5jaGVyZHluYW1pYy9EeW5hbWljVGlsZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL3RpbGVzL2NkbS9hcHBsYXVuY2hlci9TdGF0aWNUaWxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvdGlsZXMvY2RtL2FwcGxhdW5jaGVyZHluYW1pYy9EeW5hbWljVGlsZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL3RpbGVzL3V0aWxzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvdGlsZXMvdXRpbHNSVC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL3VzZXJBY3Rpdml0eS91c2VyQWN0aXZpdHlMb2cucXVuaXQuaHRtbCcsXG4gICAgLy8gXCJ0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2RlbW9hcHBzL1VzZXJEZWZhdWx0UGx1Z2luU2FtcGxlL1VzZXJEZWZhdWx0UGx1Z2luU2FtcGxlLnF1bml0Lmh0bWxcIiwgLy8gQ3VycmVudGx5IG5vdCBydW4gaW5zaWRlIHRoZSBRVW5pdCBUZXN0IExvYWRlciBmb3IgdXNoZWxsLWxpYlxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L0ZMUEFuYWx5dGljcy5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9MYXlvdXQucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9BY2Nlc3NLZXlzSGFuZGxlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9yZW5kZXJlcnMvZmlvcmkyL0RlZmF1bHRQYXJhbWV0ZXJzL0RlZmF1bHRQYXJhbWV0ZXJzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3JlbmRlcmVycy9maW9yaTIvTGlmZWN5Y2xlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3JlbmRlcmVycy9maW9yaTIvbWVBcmVhL01lQXJlYS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9yZW5kZXJlcnMvZmlvcmkyL21lQXJlYS9Vc2VyU2V0dGluZ3MucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9ub3RpZmljYXRpb25zL05vdGlmaWNhdGlvbnMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9ub3RpZmljYXRpb25zL1NldHRpbmdzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3JlbmRlcmVycy9maW9yaTIvUmVuZGVyZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9SZW5kZXJlckV4dGVuc2lvbnMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9TaGVsbC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9yZW5kZXJlcnMvZmlvcmkyL1VJQWN0aW9ucy5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9BcHBDb25maWd1cmF0aW9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0FwcENvbnRleHQucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvQXBwTGlmZUN5Y2xlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0FwcFN0YXRlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0Jvb2ttYXJrLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0NsaWVudFNpZGVUYXJnZXRSZXNvbHV0aW9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0NvbW1vbkRhdGFNb2RlbC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9Db21tb25EYXRhTW9kZWwvUGVyc29uYWxpemF0aW9uUHJvY2Vzc29yLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0NvbW1vbkRhdGFNb2RlbC9QZXJzb25hbGl6YXRpb25Qcm9jZXNzb3JDRE1CbGFja2JveC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9Db250YWluZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvQ3Jvc3NBcHBsaWNhdGlvbk5hdmlnYXRpb24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvRW5kVXNlckZlZWRiYWNrLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0xhdW5jaFBhZ2UucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvTWVzc2FnZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9OYXZUYXJnZXRSZXNvbHV0aW9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL05hdlRhcmdldFJlc29sdXRpb25DRE1CbGFja2JveC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9Ob3RpZmljYXRpb25zLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL1BlcnNvbmFsaXphdGlvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9QbHVnaW5NYW5hZ2VyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL1JlZmVyZW5jZVJlc29sdmVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL1NoZWxsTmF2aWdhdGlvbi5IaXN0b3J5LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL1NoZWxsTmF2aWdhdGlvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9TdXBwb3J0VGlja2V0LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL1VSTFBhcnNpbmcucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVVJMU2hvcnRlbmluZy5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9VaTVDb21wb25lbnRMb2FkZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVXNhZ2VBbmFseXRpY3MucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVXNlckRlZmF1bHRQYXJhbWV0ZXJQZXJzaXN0ZW5jZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9Vc2VyRGVmYXVsdFBhcmFtZXRlcnMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVXNlckluZm8ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVXNlclJlY2VudHMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvU21hcnROYXZpZ2F0aW9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L1N5c3RlbS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9mb290ZXJiYXIvQWJvdXRCdXR0b24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvZm9vdGVyYmFyL0FkZEJvb2ttYXJrQnV0dG9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2Zvb3RlcmJhci9Db250YWN0U3VwcG9ydEJ1dHRvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9mb290ZXJiYXIvRW5kVXNlckZlZWRiYWNrLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2Zvb3RlcmJhci9KYW1EaXNjdXNzQnV0dG9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2Zvb3RlcmJhci9KYW1TaGFyZUJ1dHRvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9mb290ZXJiYXIvTG9nb3V0QnV0dG9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2Zvb3RlcmJhci9TZXR0aW5nc0J1dHRvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9mb290ZXJiYXIvVXNlclByZWZlcmVuY2VzQnV0dG9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2xhdW5jaHBhZC9BY2Nlc3NpYmlsaXR5Q3VzdG9tRGF0YS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9sYXVuY2hwYWQvQWN0aW9uSXRlbS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9sYXVuY2hwYWQvQW5jaG9ySXRlbS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9sYXVuY2hwYWQvQW5jaG9yTmF2aWdhdGlvbkJhci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9sYXVuY2hwYWQvRW1iZWRkZWRTdXBwb3J0RXJyb3JNZXNzYWdlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2xhdW5jaHBhZC9GaW9yaTJMb2FkaW5nRGlhbG9nLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2xhdW5jaHBhZC9Hcm91cExpc3RJdGVtLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2xhdW5jaHBhZC9MaW5rVGlsZVdyYXBwZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvbGF1bmNocGFkL0xvYWRpbmdEaWFsb2cucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvbGF1bmNocGFkL1RpbGVDb250YWluZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvbGF1bmNocGFkL1ZpZXdQb3J0Q29udGFpbmVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3NoZWxsL0Zsb2F0aW5nQ29udGFpbmVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3NoZWxsL1JpZ2h0RmxvYXRpbmdDb250YWluZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvc2hlbGwvU2hlbGxBcHBUaXRsZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9zaGVsbC9TaGVsbExheW91dC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9zaGVsbC9TaGVsbFRpdGxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3NoZWxsL1NwbGl0Q29udGFpbmVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3RpbGUvRHluYW1pY1RpbGUucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvdGlsZS9JbWFnZVRpbGUucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvdGlsZS9TdGF0aWNUaWxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3RpbGUvVGlsZUJhc2UucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWk1c2VydmljZS9TaGVsbFVJU2VydmljZS5xdW5pdC5odG1sJ1xuXTtcbnZhciBtVW5pdFRlc3RXb3JkcyA9IFVuaXRUZXN0TGlzdC5tYXAoZnVuY3Rpb24gKHNFbnRyeSkge1xuICAgIHZhciBzU3RyaW5nID0gYXJlZ2V4LmV4ZWMoc0VudHJ5KVsxXTsgLy8ubWF0Y2goJy8oW14vXSopLnF1bml0Lmh0bWwnKVsxXVxuICAgIC8vY29uc29sZS5sb2coXCJoZXJlIGlzIHRoZSB0ZXN0IFwiICsgc1N0cmluZyk7XG4gICAgbVVuaXRUZXN0VVJMTWFwW3NTdHJpbmddID0gXCJodHRwOi8vbG9jYWxob3N0OjgwODAvc2FwL2JjL1wiICsgc0VudHJ5O1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhdGVnb3J5OiBcInVuaXQgdGVzdFwiLFxuICAgICAgICBtYXRjaGVkU3RyaW5nOiBzU3RyaW5nLFxuICAgICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLldPUkQsXG4gICAgICAgIGJpdGluZGV4OiAweDAzLFxuICAgICAgICB3b3JkOiBzU3RyaW5nLFxuICAgICAgICBfcmFua2luZzogMC45NVxuICAgIH07XG59KTtcbi8qIEBjb3ZpZ25vcmUgKi9cbmZ1bmN0aW9uIGdldFJ1bGVNYXAoKSB7XG4gICAgdmFyIHN5c3RlbU9iamVjdENhdGVnb3J5ID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLldPUkQsXG4gICAgICAgICAgICBrZXk6IFwic3lzdGVtT2JqZWN0Q2F0ZWdvcnlcIixcbiAgICAgICAgICAgIHdvcmQ6IFwidW5pdCB0ZXN0XCIsXG4gICAgICAgICAgICBmb2xsb3dzOiB7XG4gICAgICAgICAgICAgICAgc3lzdGVtT2JqZWN0Q2F0ZWdvcnk6IFwidW5pdCB0ZXN0XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogSU1hdGNoLkVudW1SdWxlVHlwZS5XT1JELFxuICAgICAgICAgICAga2V5OiBcInN5c3RlbU9iamVjdENhdGVnb3J5XCIsXG4gICAgICAgICAgICB3b3JkOiBcInVuaXRcIixcbiAgICAgICAgICAgIGZvbGxvd3M6IHtcbiAgICAgICAgICAgICAgICBzeXN0ZW1PYmplY3RDYXRlZ29yeTogXCJ1bml0IHRlc3RcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXTtcbiAgICAvKiBAY292aWdub3JlICovXG4gICAgdmFyIHN5c3RlbU9iamVjdENhdGVnb3J5MiA9IFtbXCJ1bml0IHRlc3RcIiwgXCJ1bml0XCJdLFxuICAgICAgICBbXCJ3aWtpXCIsIFwid2ViIHBhZ2VcIl0sXG4gICAgICAgIFtcImZpb3JpIGNhdGFsb2dcIiwgXCJmbHAgY2F0YWxvZ1wiLCBcImNhdGFsb2dcIl0sXG4gICAgICAgIFtcImZpb3JpIGdyb3VwXCIsIFwiZmxwIGdyb3VwXCIsIFwiZ3JvdXBcIl0sXG4gICAgICAgIFtcInVybFwiXSxcbiAgICAgICAgW1wiZmxwXCIsIFwiZmlvcmkgbGF1bmNocGFkXCIsIFwibGF1Y2hwYWdlXCIsIFwibGF1bmNocGFkXCJdLFxuICAgICAgICBbXCJmbHBkXCJdXG4gICAgXS5tYXAoZnVuY3Rpb24gKGFBcnIpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYUFycikpO1xuICAgICAgICB2YXIgYmVzdFN5bm9ueW0gPSBhQXJyWzBdO1xuICAgICAgICByZXR1cm4gYUFyci5tYXAoZnVuY3Rpb24gKHNFbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLldPUkQsXG4gICAgICAgICAgICAgICAga2V5OiBcInN5c3RlbU9iamVjdENhdGVnb3J5XCIsXG4gICAgICAgICAgICAgICAgd29yZDogc0VudHJ5LFxuICAgICAgICAgICAgICAgIGZvbGxvd3M6IHtcbiAgICAgICAgICAgICAgICAgICAgc3lzdGVtT2JqZWN0Q2F0ZWdvcnk6IGJlc3RTeW5vbnltXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgc3lzdGVtT2JqZWN0Q2F0ZWdvcnkyID0gc3lzdGVtT2JqZWN0Q2F0ZWdvcnkyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5jb25jYXQoYik7IH0sIFtdKTtcbiAgICB2YXIgc3lzdGVtT2JqZWN0Q2F0ZWdvcnkgPSBzeXN0ZW1PYmplY3RDYXRlZ29yeS5jb25jYXQoc3lzdGVtT2JqZWN0Q2F0ZWdvcnkyKTtcbiAgICB2YXIgb1J1bGVNYXAgPSB7XG4gICAgICAgIFwic3lzdGVtT2JqZWN0Q2F0ZWdvcnlcIjogc3lzdGVtT2JqZWN0Q2F0ZWdvcnksXG4gICAgICAgIFwic3lzdGVtSWRcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oW2EtejAtOV9dezMsM30pQ0xOVChcXGR7MywzfSkkL2ksXG4gICAgICAgICAgICAgICAga2V5OiAnc3lzdGVtSWQnLFxuICAgICAgICAgICAgICAgIGFyZ3NNYXA6IHtcbiAgICAgICAgICAgICAgICAgICAgMTogJ3N5c3RlbUlkJyxcbiAgICAgICAgICAgICAgICAgICAgMjogJ2NsaWVudCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgICAgICAgICAgIGZvbGxvd3M6IHt9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oW2EtejAtOV9dezMsM30pJC9pLFxuICAgICAgICAgICAgICAgIGtleTogJ3N5c3RlbUlkJyxcbiAgICAgICAgICAgICAgICBhcmdzTWFwOiB7XG4gICAgICAgICAgICAgICAgICAgIDE6ICdzeXN0ZW1JZCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgICAgICAgICAgIGZvbGxvd3M6IHt9XG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgfTtcbiAgICB2YXIgc3lzdGVtT2JqZWN0SWQgPSBVbml0VGVzdExpc3QubWFwKGZ1bmN0aW9uIChzRW50cnkpIHtcbiAgICAgICAgdmFyIHNTdHJpbmcgPSBhcmVnZXguZXhlYyhzRW50cnkpWzFdOyAvLy5tYXRjaCgnLyhbXi9dKikucXVuaXQuaHRtbCcpWzFdXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IFwic3lzdGVtT2JqZWN0SWRcIixcbiAgICAgICAgICAgIHdvcmQ6IHNTdHJpbmcsXG4gICAgICAgICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLldPUkQsXG4gICAgICAgICAgICBmb2xsb3dzOiB7XG4gICAgICAgICAgICAgICAgc3lzdGVtT2JqZWN0Q2F0ZWdvcnk6IFwidW5pdCB0ZXN0XCIsXG4gICAgICAgICAgICAgICAgc3lzdGVtT2JqZWN0SWQ6IHNTdHJpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTsgLy8gbWFwXG4gICAgdmFyIHN5c3RlbU9iamVjdElkMiA9IFtcbiAgICAgICAgLy8gd2lraSBhbGlhc2VzLCB0aGlzIGlzIGFuIG9sZCBsZWdhY3kgZm9yYW10XG4gICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ1N1cHBvcnQgcGFnZScsXG4gICAgICAgICAgICByZXM6ICdDQS1VSTItSU5ULUZFIHN1cHBvcnQnLFxuICAgICAgICB9LFxuICAgICAgICB7IGtleTogJ0ZDQyBBQkFQIEFsaWdubWVudCcgfSxcbiAgICAgICAgeyBrZXk6ICdVSTIgdGVzdCBsaW5rcycgfSxcbiAgICAgICAgeyBrZXk6ICdTdXBwb3J0IHNjaGVkdWxlJywgcmVzOiAnVElQIENvcmUgVUkgSW50ZWdyYXRpb24gc3VwcG9ydCcgfSxcbiAgICAgICAgeyBrZXk6ICdVSUkgU3VwcG9ydCBzY2hlZHVsZScsIHJlczogJ1RJUCBDb3JlIFVJIEludGVncmF0aW9uIHN1cHBvcnQnIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ1VJMiBTdXBwb3J0IHBhZ2UnLFxuICAgICAgICAgICAgcmVzOiAnQ0EtVUkyLUlOVC1GRSBzdXBwb3J0J1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICdCYWNrZW5kIFNwcmludCBSZXZpZXdzJyxcbiAgICAgICAgICAgIHJlczogJ0JhY2tlbmQgU3ByaW50IFJldmlldydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAga2V5OiAnVUk1IHBhdGNoIHNjaGVkdWxlJyxcbiAgICAgICAgICAgIHJlczogJ1VJNSBVSTIgUGF0Y2ggcGxhbidcbiAgICAgICAgfVxuICAgIF0ubWFwKGZ1bmN0aW9uIChvRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdvcmQ6IG9FbnRyeS5rZXksXG4gICAgICAgICAgICBrZXk6IFwic3lzdGVtT2JqZWN0SWRcIixcbiAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCxcbiAgICAgICAgICAgIGZvbGxvd3M6IHtcbiAgICAgICAgICAgICAgICBzeXN0ZW1PYmplY3RDYXRlZ29yeTogXCJ3aWtpXCIsXG4gICAgICAgICAgICAgICAgc3lzdGVtT2JqZWN0SWQ6IChvRW50cnkucmVzIHx8IG9FbnRyeS5rZXkpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTsgLy8gbWFwXG4gICAgc3lzdGVtT2JqZWN0SWQgPSBzeXN0ZW1PYmplY3RJZC5jb25jYXQoc3lzdGVtT2JqZWN0SWQyKTtcbiAgICBzeXN0ZW1PYmplY3RJZCA9IHN5c3RlbU9iamVjdElkLmNvbmNhdChbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCxcbiAgICAgICAgICAgIGtleTogXCJzeXN0ZW1PYmplY3RJZFwiLFxuICAgICAgICAgICAgd29yZDogXCJmbHBkXCIsXG4gICAgICAgICAgICBmb2xsb3dzOiB7fVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLlJFR0VYUCxcbiAgICAgICAgICAgIGtleTogXCJzeXN0ZW1PYmplY3RJZFwiLFxuICAgICAgICAgICAgcmVnZXhwOiAvXlxcUyskL2ksXG4gICAgICAgICAgICBmb2xsb3dzOiB7XG4gICAgICAgICAgICAgICAgX3Jhbmtpbmc6IDAuOVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXSk7XG4gICAgb1J1bGVNYXBbXCJzeXN0ZW1PYmplY3RJZFwiXSA9IHN5c3RlbU9iamVjdElkO1xuICAgIHJldHVybiBvUnVsZU1hcDtcbn1cbmV4cG9ydHMuZ2V0UnVsZU1hcCA9IGdldFJ1bGVNYXA7XG52YXIgbVJ1bGVBcnJheTtcbmZ1bmN0aW9uIGNvbXBhcmVNUnVsZUZ1bGwoYSwgYikge1xuICAgIHZhciByID0gYS5jYXRlZ29yeS5sb2NhbGVDb21wYXJlKGIuY2F0ZWdvcnkpO1xuICAgIGlmIChyKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICByID0gYS50eXBlIC0gYi50eXBlO1xuICAgIGlmIChyKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBpZiAoYS5tYXRjaGVkU3RyaW5nICYmIGIubWF0Y2hlZFN0cmluZykge1xuICAgICAgICByID0gYS5tYXRjaGVkU3RyaW5nLmxvY2FsZUNvbXBhcmUoYi5tYXRjaGVkU3RyaW5nKTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhLndvcmQgJiYgYi53b3JkKSB7XG4gICAgICAgIHZhciByID0gYS53b3JkLmxvY2FsZUNvbXBhcmUoYi53b3JkKTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9XG4gICAgfVxuICAgIHIgPSAoYS5fcmFua2luZyB8fCAxLjApIC0gKGIuX3JhbmtpbmcgfHwgMS4wKTtcbiAgICBpZiAocikge1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgaWYgKGEuZXhhY3RPbmx5ICYmICFiLmV4YWN0T25seSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChiLmV4YWN0T25seSAmJiAhYS5leGFjdE9ubHkpIHtcbiAgICAgICAgcmV0dXJuICsxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbmV4cG9ydHMuY29tcGFyZU1SdWxlRnVsbCA9IGNvbXBhcmVNUnVsZUZ1bGw7XG5mdW5jdGlvbiBjbXBNUnVsZShhLCBiKSB7XG4gICAgdmFyIHIgPSBhLmNhdGVnb3J5LmxvY2FsZUNvbXBhcmUoYi5jYXRlZ29yeSk7XG4gICAgaWYgKHIpIHtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIHIgPSBhLnR5cGUgLSBiLnR5cGU7XG4gICAgaWYgKHIpIHtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGlmIChhLm1hdGNoZWRTdHJpbmcgJiYgYi5tYXRjaGVkU3RyaW5nKSB7XG4gICAgICAgIHIgPSBhLm1hdGNoZWRTdHJpbmcubG9jYWxlQ29tcGFyZShiLm1hdGNoZWRTdHJpbmcpO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGEud29yZCAmJiBiLndvcmQpIHtcbiAgICAgICAgcmV0dXJuIGEud29yZC5sb2NhbGVDb21wYXJlKGIud29yZCk7XG4gICAgfVxuICAgIHIgPSAoYS5fcmFua2luZyB8fCAxLjApIC0gKGIuX3JhbmtpbmcgfHwgMS4wKTtcbiAgICBpZiAocikge1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gICAgLypcbiAgICBpZihhLmV4YWN0T25seSAmJiAhYi5leGFjdE9ubHkpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYoYi5leGFjdE9ubHkgJiYgIWEuZXhhY3RPbmx5KSB7XG4gICAgICByZXR1cm4gKzE7XG4gICAgfSovXG59XG5leHBvcnRzLmNtcE1SdWxlID0gY21wTVJ1bGU7XG5mdW5jdGlvbiBnZXRJbnRNUnVsZXNTYW1wbGUoKSB7XG4gICAgdmFyIG1SdWxlcyA9IFtdO1xuICAgIG1SdWxlcyA9IG1SdWxlcy5jb25jYXQoW1xuICAgICAgICAvLyBhIGdlbmVyaWMgcnVsZSBmb3IgYW55IGlkXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwic3lzdGVtT2JqZWN0SWRcIixcbiAgICAgICAgICAgIHJlZ2V4cDogL15cXFMrJC9pLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICBfcmFua2luZzogMC41XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiZmlvcmkgY2F0YWxvZ1wiLFxuICAgICAgICAgICAgcmVnZXhwOiAvXltBLVowLTlhLXpfXFwvXSskL2ksXG4gICAgICAgICAgICBiaXRpbmRleDogMHgwMSxcbiAgICAgICAgICAgIF9yYW5raW5nOiAwLjVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogSU1hdGNoLkVudW1SdWxlVHlwZS5SRUdFWFAsXG4gICAgICAgICAgICBjYXRlZ29yeTogXCJjbGllbnRcIixcbiAgICAgICAgICAgIHJlZ2V4cDogL15cXGR7MywzfSQvaSxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgX3Jhbmtpbmc6IDAuOFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLlJFR0VYUCxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcInN5c3RlbUlkXCIsXG4gICAgICAgICAgICByZWdleHA6IC9eW0EtWl1bQS1aMC05XVtBLVowLTldJC9pLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICBfcmFua2luZzogMC43XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcInN5c3RlbUlkXCIsXG4gICAgICAgICAgICB3b3JkOiBcIlVWMlwiLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcIlVWMlwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwidHJhbnNhY3Rpb25cIixcbiAgICAgICAgICAgIHJlZ2V4cDogL15bQS1aXVtBLVowLTlfXXszLDN9JC9pLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICBfcmFua2luZzogMC43XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiZmlvcmkgY2F0YWxvZ1wiLFxuICAgICAgICAgICAgcmVnZXhwOiAvXlNBUF9CQ1tBLVpdW0EtWjAtOV9dKiQvLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICBfcmFua2luZzogMC44NVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLlJFR0VYUCxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcImZpb3JpIGNhdGFsb2dcIixcbiAgICAgICAgICAgIHJlZ2V4cDogL15TQVBfVENbQS1aXVtBLVowLTlfXSokLyxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgX3Jhbmtpbmc6IDAuODVcbiAgICAgICAgfSxcbiAgICAgICAgLy8gYSBmZXcgdW5pdCB0ZXN0c1xuICAgICAgICB7XG4gICAgICAgICAgICBjYXRlZ29yeTogXCJ1bml0IHRlc3RcIixcbiAgICAgICAgICAgIG1hdGNoZWRTdHJpbmc6IFwiTmF2VGFyZ2V0UmVzb2x1dGlvblwiLFxuICAgICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgd29yZDogXCJOYXZUYXJnZXRSZXNvbHV0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IFwidW5pdCB0ZXN0XCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcIk5hdlRhcmdldFJlc29sdXRpb25BZGFwdGVyXCIsXG4gICAgICAgICAgICB0eXBlOiAwLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICB3b3JkOiBcIk5hdlRhcmdldFJlc29sdXRpb25BZGFwdGVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gYSBmZXcgdW5pdCB0ZXN0c1xuICAgICAgICB7XG4gICAgICAgICAgICBjYXRlZ29yeTogXCJ3aWtpXCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcIlVJMiBJbnRlZ3JhdGlvblwiLFxuICAgICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgd29yZDogXCJVSTIgSW50ZWdyYXRpb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBjYXRlZ29yeTogXCJ3aWtpXCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcIlVJMiBTdXBwb3J0IHBhZ2VzXCIsXG4gICAgICAgICAgICB0eXBlOiAwLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICB3b3JkOiBcIlVJMiBTdXBwb3J0IHBhZ2VzXCJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gY2F0ZWdvcmllcyBvZiB0aGlzIG1vZGVsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcIndpa2lcIixcbiAgICAgICAgICAgIHR5cGU6IDAsXG4gICAgICAgICAgICBiaXRpbmRleDogMHgwMSxcbiAgICAgICAgICAgIHdvcmQ6IFwid2lraVwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBjYXRlZ29yeTogXCJjYXRlZ29yeVwiLFxuICAgICAgICAgICAgbWF0Y2hlZFN0cmluZzogXCJ1bml0IHRlc3RcIixcbiAgICAgICAgICAgIHR5cGU6IDAsXG4gICAgICAgICAgICBiaXRpbmRleDogMHgwMSxcbiAgICAgICAgICAgIHdvcmQ6IFwidW5pdCB0ZXN0XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcInVybFwiLFxuICAgICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgd29yZDogXCJ1cmxcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiY2F0ZWdvcnlcIixcbiAgICAgICAgICAgIG1hdGNoZWRTdHJpbmc6IFwidHJhbnNhY3Rpb25cIixcbiAgICAgICAgICAgIHR5cGU6IDAsXG4gICAgICAgICAgICBiaXRpbmRleDogMHgwMSxcbiAgICAgICAgICAgIHdvcmQ6IFwidHJhbnNhY3Rpb25cIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiY2F0ZWdvcnlcIixcbiAgICAgICAgICAgIG1hdGNoZWRTdHJpbmc6IFwidHJhbnNhY3Rpb25cIixcbiAgICAgICAgICAgIHR5cGU6IDAsXG4gICAgICAgICAgICBiaXRpbmRleDogMHgwMSxcbiAgICAgICAgICAgIHdvcmQ6IFwidGFcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiY2F0ZWdvcnlcIixcbiAgICAgICAgICAgIG1hdGNoZWRTdHJpbmc6IFwiZmlvcmkgY2F0YWxvZ1wiLFxuICAgICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgd29yZDogXCJmaW9yaSBjYXRhbG9nXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcImZpb3JpIGNhdGFsb2dcIixcbiAgICAgICAgICAgIHR5cGU6IDAsXG4gICAgICAgICAgICBfcmFua2luZzogMC44LFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICB3b3JkOiBcImNhdGFsb2dcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiY2F0ZWdvcnlcIixcbiAgICAgICAgICAgIG1hdGNoZWRTdHJpbmc6IFwic3lzdGVtSWRcIixcbiAgICAgICAgICAgIHR5cGU6IDAsXG4gICAgICAgICAgICBiaXRpbmRleDogMHgwMSxcbiAgICAgICAgICAgIHdvcmQ6IFwic3lzdGVtXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcImNsaWVudFwiLFxuICAgICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgd29yZDogXCJjbGllbnRcIixcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdG9vbHMgb2YgdGhlIHNhbXBsZSBtb2RlbFxuICAgICAgICB7XG4gICAgICAgICAgICBjYXRlZ29yeTogXCJ0b29sXCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcIkZMUERcIixcbiAgICAgICAgICAgIHR5cGU6IDAsXG4gICAgICAgICAgICBiaXRpbmRleDogMHgwMSxcbiAgICAgICAgICAgIHdvcmQ6IFwiZmxwZFwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBjYXRlZ29yeTogXCJvcGVyYXRvclwiLFxuICAgICAgICAgICAgbWF0Y2hlZFN0cmluZzogXCJzdGFydHMgd2l0aFwiLFxuICAgICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgd29yZDogXCJzdGFydGluZyB3aXRoXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcInRvb2xcIixcbiAgICAgICAgICAgIG1hdGNoZWRTdHJpbmc6IFwiRkxQXCIsXG4gICAgICAgICAgICB0eXBlOiAwLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICB3b3JkOiBcImZscFwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBjYXRlZ29yeTogXCJ0b29sXCIsXG4gICAgICAgICAgICBtYXRjaGVkU3RyaW5nOiBcIkZMUFwiLFxuICAgICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAxLFxuICAgICAgICAgICAgd29yZDogXCJGaW9yaSBMYXVuY2hwYWRcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IFwidG9vbFwiLFxuICAgICAgICAgICAgbWF0Y2hlZFN0cmluZzogXCJ3aWtpXCIsXG4gICAgICAgICAgICB0eXBlOiAwLFxuICAgICAgICAgICAgYml0aW5kZXg6IDB4MDEsXG4gICAgICAgICAgICB3b3JkOiBcIndpa2lcIixcbiAgICAgICAgfSxcbiAgICAgICAgLy8gZmlsbGVyc1xuICAgICAgICAvLyB0b29scyBvZiB0aGUgc2FtcGxlIG1vZGVsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcImZpbGxlclwiLFxuICAgICAgICAgICAgdHlwZTogMSxcbiAgICAgICAgICAgIHJlZ2V4cDogL14oKHN0YXJ0KXwoc2hvdyl8KGZyb20pfChpbikpJC9pLFxuICAgICAgICAgICAgbWF0Y2hlZFN0cmluZzogXCJmaWxsZXJcIixcbiAgICAgICAgICAgIGJpdGluZGV4OiAweDAyLFxuICAgICAgICAgICAgX3Jhbmtpbmc6IDAuOVxuICAgICAgICB9LFxuICAgIF0pO1xuICAgIHZhciBtUnVsZXMgPSBhc3N1cmVMb3dlckNhc2VXb3JkKG1SdWxlcyk7XG4gICAgcmV0dXJuIG1SdWxlcy5zb3J0KGNtcE1SdWxlKTtcbn1cbmV4cG9ydHMuZ2V0SW50TVJ1bGVzU2FtcGxlID0gZ2V0SW50TVJ1bGVzU2FtcGxlO1xuZnVuY3Rpb24gZ2V0TVJ1bGVzU2FtcGxlKCkge1xuICAgIHJldHVybiBmZGV2c3RhX21vbm1vdmVfMS5Nb2RlbC5zcGxpdFJ1bGVzKGdldEludE1SdWxlc1NhbXBsZSgpKTtcbn1cbmV4cG9ydHMuZ2V0TVJ1bGVzU2FtcGxlID0gZ2V0TVJ1bGVzU2FtcGxlO1xuZnVuY3Rpb24gYXNzdXJlTG93ZXJDYXNlV29yZChtUnVsZXMpIHtcbiAgICByZXR1cm4gbVJ1bGVzLm1hcChmdW5jdGlvbiAob1J1bGUpIHtcbiAgICAgICAgaWYgKG9SdWxlLnR5cGUgPT09IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCkge1xuICAgICAgICAgICAgb1J1bGUubG93ZXJjYXNld29yZCA9IG9SdWxlLndvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb1J1bGU7XG4gICAgfSk7XG59XG5leHBvcnRzLmFzc3VyZUxvd2VyQ2FzZVdvcmQgPSBhc3N1cmVMb3dlckNhc2VXb3JkO1xuZnVuY3Rpb24gZ2V0VW5pdFRlc3RVcmwoc3RyaW5nKSB7XG4gICAgcmV0dXJuIG1Vbml0VGVzdFVSTE1hcFtzdHJpbmddO1xufVxuZXhwb3J0cy5nZXRVbml0VGVzdFVybCA9IGdldFVuaXRUZXN0VXJsO1xuZnVuY3Rpb24gZ2V0V2lraVVybChzdHJpbmcpIHtcbiAgICAvLyBUT0RPXG4gICAgcmV0dXJuIG1Vbml0VGVzdFVSTE1hcFtzdHJpbmddO1xufVxuZXhwb3J0cy5nZXRXaWtpVXJsID0gZ2V0V2lraVVybDtcbmZ1bmN0aW9uIGdldE1SdWxlc0Z1bGwoKSB7XG4gICAgdmFyIG1SdWxlcyA9IGdldEludE1SdWxlc1NhbXBsZSgpO1xuICAgIG1SdWxlcyA9IG1SdWxlcy5jb25jYXQobVVuaXRUZXN0V29yZHMpO1xuICAgIG1SdWxlcyA9IGFzc3VyZUxvd2VyQ2FzZVdvcmQobVJ1bGVzKTtcbiAgICByZXR1cm4gZmRldnN0YV9tb25tb3ZlXzEuTW9kZWwuc3BsaXRSdWxlcyhtUnVsZXMuc29ydChjbXBNUnVsZSkpO1xufVxuZXhwb3J0cy5nZXRNUnVsZXNGdWxsID0gZ2V0TVJ1bGVzRnVsbDtcbiIsIlxuXG5pbXBvcnQgKiBhcyB4aW5wdXRGaWx0ZXIgZnJvbSAnLi9pbnB1dEZpbHRlcic7XG5pbXBvcnQgKiBhcyBJTWF0Y2ggZnJvbSAnLi9pZm1hdGNoJztcblxuaW1wb3J0IHsgTW9kZWwgfSBmcm9tICdmZGV2c3RhX21vbm1vdmUnO1xuXG5cbmV4cG9ydCBjb25zdCBvS2V5T3JkZXI6IEFycmF5PFN0cmluZz4gPSBbXCJzeXN0ZW1PYmplY3RDYXRlZ29yeVwiLCBcInN5c3RlbUlkXCIsIFwic3lzdGVtT2JqZWN0SWRcIl07XG5cbnZhciBtVW5pdFRlc3RVUkxNYXAgPSB7fTtcblxudmFyIGFyZWdleCA9IC9cXC8oW14vXSopLnF1bml0Lmh0bWwvO1xuXG52YXIgVW5pdFRlc3RMaXN0ID1cbiAgW1xuICAgIC8vIGFscGhhYmV0aWMgb3JkZXIgcGxlYXNlXG5cbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9jZG0vQ2xpZW50U2lkZVRhcmdldFJlc29sdXRpb25BZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2NkbS9Db21tb25EYXRhTW9kZWxBZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2NkbS9MYXVuY2hQYWdlQWRhcHRlci5xdW5pdC5odG1sJyxcblxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2xvY2FsL0FwcFN0YXRlQWRhcHRlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9sb2NhbC9DbGllbnRTaWRlVGFyZ2V0UmVzb2x1dGlvbkFkYXB0ZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvYWRhcHRlcnMvbG9jYWwvQ29udGFpbmVyQWRhcHRlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9hZGFwdGVycy9sb2NhbC9FbmRVc2VyRmVlZGJhY2tBZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2xvY2FsL05hdlRhcmdldFJlc29sdXRpb25BZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2xvY2FsL1BlcnNvbmFsaXphdGlvbkFkYXB0ZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvYWRhcHRlcnMvbG9jYWwvU3VwcG9ydFRpY2tldEFkYXB0ZXJUZXN0LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2xvY2FsL1VzZXJEZWZhdWx0UGFyYW1ldGVyUGVyc2lzdGVuY2VBZGFwdGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2FkYXB0ZXJzL2xvY2FsL1VzZXJJbmZvQWRhcHRlci5xdW5pdC5odG1sJyxcblxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2Jvb3RzdHJhcC9zYW5kYm94LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L0NhbnZhc1NoYXBlc01hbmFnZXIucXVuaXQuaHRtbCcsXG5cbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2NvbnRhaW5lci9BcHBsaWNhdGlvbkNvbnRhaW5lci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2ZhY3RzaGVldC9hbm5vdGF0aW9uL09EYXRhVVJMVGVtcGxhdGluZy5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2ZscC9Db21wb25lbnRLZXlzSGFuZGxlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2ZscC9GbHBBcHAucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy9mbHAvbGF1bmNocGFkL2FwcGZpbmRlci9FYXN5QWNjZXNzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9EYXNoYm9hcmRNYW5hZ2VyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9QYWdpbmdNYW5hZ2VyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9hcHBmaW5kZXIvQXBwRmluZGVyLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9hcHBmaW5kZXIvR3JvdXBMaXN0UG9wb3Zlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9jb21wb25lbnRzL2ZscC9sYXVuY2hwYWQvYXBwZmluZGVyL0hpZXJhcmNoeUFwcHMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy9mbHAvbGF1bmNocGFkL2FwcGZpbmRlci9IaWVyYXJjaHlGb2xkZXJzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3JlbmRlcmVycy9maW9yaTIvdXNlclByZWZlcmVuY2VzL0xhbmd1YWdlUmVnaW9uU2VsZWN0b3IucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy9mbHAvbGF1bmNocGFkL2Rhc2hib2FyZC9EYXNoYm9hcmRDb250ZW50LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL2xhdW5jaHBhZC9kYXNoYm9hcmQvRGFzaGJvYXJkVUlBY3Rpb25zLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvZmxwL3NldHRpbmdzL0ZscFNldHRpbmdzLnF1bml0Lmh0bWwnLFxuXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy90aWxlcy9hcHBsYXVuY2hlci9TdGF0aWNUaWxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvdGlsZXMvYXBwbGF1bmNoZXJkeW5hbWljL0R5bmFtaWNUaWxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvdGlsZXMvY2RtL2FwcGxhdW5jaGVyL1N0YXRpY1RpbGUucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy90aWxlcy9jZG0vYXBwbGF1bmNoZXJkeW5hbWljL0R5bmFtaWNUaWxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvdGlsZXMvdXRpbHMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvY29tcG9uZW50cy90aWxlcy91dGlsc1JULnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L2NvbXBvbmVudHMvdXNlckFjdGl2aXR5L3VzZXJBY3Rpdml0eUxvZy5xdW5pdC5odG1sJyxcblxuICAgIC8vIFwidGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9kZW1vYXBwcy9Vc2VyRGVmYXVsdFBsdWdpblNhbXBsZS9Vc2VyRGVmYXVsdFBsdWdpblNhbXBsZS5xdW5pdC5odG1sXCIsIC8vIEN1cnJlbnRseSBub3QgcnVuIGluc2lkZSB0aGUgUVVuaXQgVGVzdCBMb2FkZXIgZm9yIHVzaGVsbC1saWJcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9GTFBBbmFseXRpY3MucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvTGF5b3V0LnF1bml0Lmh0bWwnLFxuXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9BY2Nlc3NLZXlzSGFuZGxlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9yZW5kZXJlcnMvZmlvcmkyL0RlZmF1bHRQYXJhbWV0ZXJzL0RlZmF1bHRQYXJhbWV0ZXJzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3JlbmRlcmVycy9maW9yaTIvTGlmZWN5Y2xlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3JlbmRlcmVycy9maW9yaTIvbWVBcmVhL01lQXJlYS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9yZW5kZXJlcnMvZmlvcmkyL21lQXJlYS9Vc2VyU2V0dGluZ3MucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9ub3RpZmljYXRpb25zL05vdGlmaWNhdGlvbnMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9ub3RpZmljYXRpb25zL1NldHRpbmdzLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3JlbmRlcmVycy9maW9yaTIvUmVuZGVyZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9SZW5kZXJlckV4dGVuc2lvbnMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvcmVuZGVyZXJzL2Zpb3JpMi9TaGVsbC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9yZW5kZXJlcnMvZmlvcmkyL1VJQWN0aW9ucy5xdW5pdC5odG1sJyxcblxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0FwcENvbmZpZ3VyYXRpb24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvQXBwQ29udGV4dC5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9BcHBMaWZlQ3ljbGUucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvQXBwU3RhdGUucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvQm9va21hcmsucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvQ2xpZW50U2lkZVRhcmdldFJlc29sdXRpb24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvQ29tbW9uRGF0YU1vZGVsLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0NvbW1vbkRhdGFNb2RlbC9QZXJzb25hbGl6YXRpb25Qcm9jZXNzb3IucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvQ29tbW9uRGF0YU1vZGVsL1BlcnNvbmFsaXphdGlvblByb2Nlc3NvckNETUJsYWNrYm94LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL0NvbnRhaW5lci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9Dcm9zc0FwcGxpY2F0aW9uTmF2aWdhdGlvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9FbmRVc2VyRmVlZGJhY2sucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvTGF1bmNoUGFnZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9NZXNzYWdlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL05hdlRhcmdldFJlc29sdXRpb24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvTmF2VGFyZ2V0UmVzb2x1dGlvbkNETUJsYWNrYm94LnF1bml0Lmh0bWwnLFxuXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvTm90aWZpY2F0aW9ucy5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9QZXJzb25hbGl6YXRpb24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvUGx1Z2luTWFuYWdlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9SZWZlcmVuY2VSZXNvbHZlci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9TaGVsbE5hdmlnYXRpb24uSGlzdG9yeS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9TaGVsbE5hdmlnYXRpb24ucXVuaXQuaHRtbCcsXG5cbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9TdXBwb3J0VGlja2V0LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3NlcnZpY2VzL1VSTFBhcnNpbmcucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVVJMU2hvcnRlbmluZy5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9VaTVDb21wb25lbnRMb2FkZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVXNhZ2VBbmFseXRpY3MucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVXNlckRlZmF1bHRQYXJhbWV0ZXJQZXJzaXN0ZW5jZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC9zZXJ2aWNlcy9Vc2VyRGVmYXVsdFBhcmFtZXRlcnMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVXNlckluZm8ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvVXNlclJlY2VudHMucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvc2VydmljZXMvU21hcnROYXZpZ2F0aW9uLnF1bml0Lmh0bWwnLFxuXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvU3lzdGVtLnF1bml0Lmh0bWwnLFxuXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvZm9vdGVyYmFyL0Fib3V0QnV0dG9uLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2Zvb3RlcmJhci9BZGRCb29rbWFya0J1dHRvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9mb290ZXJiYXIvQ29udGFjdFN1cHBvcnRCdXR0b24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvZm9vdGVyYmFyL0VuZFVzZXJGZWVkYmFjay5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9mb290ZXJiYXIvSmFtRGlzY3Vzc0J1dHRvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9mb290ZXJiYXIvSmFtU2hhcmVCdXR0b24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvZm9vdGVyYmFyL0xvZ291dEJ1dHRvbi5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9mb290ZXJiYXIvU2V0dGluZ3NCdXR0b24ucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvZm9vdGVyYmFyL1VzZXJQcmVmZXJlbmNlc0J1dHRvbi5xdW5pdC5odG1sJyxcblxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2xhdW5jaHBhZC9BY2Nlc3NpYmlsaXR5Q3VzdG9tRGF0YS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9sYXVuY2hwYWQvQWN0aW9uSXRlbS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9sYXVuY2hwYWQvQW5jaG9ySXRlbS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9sYXVuY2hwYWQvQW5jaG9yTmF2aWdhdGlvbkJhci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9sYXVuY2hwYWQvRW1iZWRkZWRTdXBwb3J0RXJyb3JNZXNzYWdlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2xhdW5jaHBhZC9GaW9yaTJMb2FkaW5nRGlhbG9nLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2xhdW5jaHBhZC9Hcm91cExpc3RJdGVtLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL2xhdW5jaHBhZC9MaW5rVGlsZVdyYXBwZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvbGF1bmNocGFkL0xvYWRpbmdEaWFsb2cucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvbGF1bmNocGFkL1RpbGVDb250YWluZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvbGF1bmNocGFkL1ZpZXdQb3J0Q29udGFpbmVyLnF1bml0Lmh0bWwnLFxuXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvc2hlbGwvRmxvYXRpbmdDb250YWluZXIucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvc2hlbGwvUmlnaHRGbG9hdGluZ0NvbnRhaW5lci5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS9zaGVsbC9TaGVsbEFwcFRpdGxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3NoZWxsL1NoZWxsTGF5b3V0LnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3NoZWxsL1NoZWxsVGl0bGUucXVuaXQuaHRtbCcsXG4gICAgJ3Rlc3QtcmVzb3VyY2VzL3NhcC91c2hlbGwvcXVuaXQvdWkvc2hlbGwvU3BsaXRDb250YWluZXIucXVuaXQuaHRtbCcsXG5cbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS90aWxlL0R5bmFtaWNUaWxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3RpbGUvSW1hZ2VUaWxlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpL3RpbGUvU3RhdGljVGlsZS5xdW5pdC5odG1sJyxcbiAgICAndGVzdC1yZXNvdXJjZXMvc2FwL3VzaGVsbC9xdW5pdC91aS90aWxlL1RpbGVCYXNlLnF1bml0Lmh0bWwnLFxuICAgICd0ZXN0LXJlc291cmNlcy9zYXAvdXNoZWxsL3F1bml0L3VpNXNlcnZpY2UvU2hlbGxVSVNlcnZpY2UucXVuaXQuaHRtbCdcbiAgXTtcblxuXG52YXIgbVVuaXRUZXN0V29yZHMgPSBVbml0VGVzdExpc3QubWFwKGZ1bmN0aW9uIChzRW50cnkpIHtcbiAgdmFyIHNTdHJpbmcgPSBhcmVnZXguZXhlYyhzRW50cnkpWzFdOyAvLy5tYXRjaCgnLyhbXi9dKikucXVuaXQuaHRtbCcpWzFdXG4gIC8vY29uc29sZS5sb2coXCJoZXJlIGlzIHRoZSB0ZXN0IFwiICsgc1N0cmluZyk7XG4gIG1Vbml0VGVzdFVSTE1hcFtzU3RyaW5nXSA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3NhcC9iYy9cIiArIHNFbnRyeTtcbiAgcmV0dXJuIHtcbiAgICBjYXRlZ29yeTogXCJ1bml0IHRlc3RcIixcbiAgICBtYXRjaGVkU3RyaW5nOiBzU3RyaW5nLFxuICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCxcbiAgICBiaXRpbmRleCA6IDB4MDMsXG4gICAgd29yZDogc1N0cmluZyxcbiAgICBfcmFua2luZzogMC45NVxuICB9O1xufSk7XG5cblxuLyogQGNvdmlnbm9yZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bGVNYXAoKSB7XG5cblxuICB2YXIgc3lzdGVtT2JqZWN0Q2F0ZWdvcnkgPSBbXG4gICAge1xuICAgICAgdHlwZTogSU1hdGNoLkVudW1SdWxlVHlwZS5XT1JELFxuICAgICAga2V5OiBcInN5c3RlbU9iamVjdENhdGVnb3J5XCIsXG4gICAgICB3b3JkOiBcInVuaXQgdGVzdFwiLFxuICAgICAgZm9sbG93czoge1xuICAgICAgICBzeXN0ZW1PYmplY3RDYXRlZ29yeTogXCJ1bml0IHRlc3RcIlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogSU1hdGNoLkVudW1SdWxlVHlwZS5XT1JELFxuICAgICAga2V5OiBcInN5c3RlbU9iamVjdENhdGVnb3J5XCIsXG4gICAgICB3b3JkOiBcInVuaXRcIixcbiAgICAgIGZvbGxvd3M6IHtcbiAgICAgICAgc3lzdGVtT2JqZWN0Q2F0ZWdvcnk6IFwidW5pdCB0ZXN0XCJcbiAgICAgIH1cbiAgICB9XG4gIF07XG4gIC8qIEBjb3ZpZ25vcmUgKi9cbiAgdmFyIHN5c3RlbU9iamVjdENhdGVnb3J5MiA9IFtbXCJ1bml0IHRlc3RcIiwgXCJ1bml0XCJdLFxuICBbXCJ3aWtpXCIsIFwid2ViIHBhZ2VcIl0sXG4gIFtcImZpb3JpIGNhdGFsb2dcIiwgXCJmbHAgY2F0YWxvZ1wiLCBcImNhdGFsb2dcIl0sXG4gIFtcImZpb3JpIGdyb3VwXCIsIFwiZmxwIGdyb3VwXCIsIFwiZ3JvdXBcIl0sXG4gIFtcInVybFwiXSxcbiAgW1wiZmxwXCIsIFwiZmlvcmkgbGF1bmNocGFkXCIsIFwibGF1Y2hwYWdlXCIsIFwibGF1bmNocGFkXCJdLFxuICBbXCJmbHBkXCJdXG4gIF0ubWFwKGZ1bmN0aW9uIChhQXJyKSB7XG4gICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYUFycikpO1xuICAgIHZhciBiZXN0U3lub255bSA9IGFBcnJbMF07XG4gICAgcmV0dXJuIGFBcnIubWFwKGZ1bmN0aW9uIChzRW50cnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCxcbiAgICAgICAga2V5OiBcInN5c3RlbU9iamVjdENhdGVnb3J5XCIsXG4gICAgICAgIHdvcmQ6IHNFbnRyeSxcbiAgICAgICAgZm9sbG93czoge1xuICAgICAgICAgIHN5c3RlbU9iamVjdENhdGVnb3J5OiBiZXN0U3lub255bVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcbiAgc3lzdGVtT2JqZWN0Q2F0ZWdvcnkyID0gc3lzdGVtT2JqZWN0Q2F0ZWdvcnkyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5jb25jYXQoYik7IH0sIFtdKSBhcyBhbnk7XG5cbiAgdmFyIHN5c3RlbU9iamVjdENhdGVnb3J5ID0gc3lzdGVtT2JqZWN0Q2F0ZWdvcnkuY29uY2F0KHN5c3RlbU9iamVjdENhdGVnb3J5MiBhcyBhbnkpXG5cbiAgdmFyIG9SdWxlTWFwID0ge1xuXG4gICAgXCJzeXN0ZW1PYmplY3RDYXRlZ29yeVwiOiBzeXN0ZW1PYmplY3RDYXRlZ29yeVxuICAgICxcbiAgICBcInN5c3RlbUlkXCI6IFtcbiAgICAgIHtcbiAgICAgICAgcmVnZXhwOiAvXihbYS16MC05X117MywzfSlDTE5UKFxcZHszLDN9KSQvaSxcbiAgICAgICAga2V5OiAnc3lzdGVtSWQnLFxuICAgICAgICBhcmdzTWFwOiB7XG4gICAgICAgICAgMTogJ3N5c3RlbUlkJyxcbiAgICAgICAgICAyOiAnY2xpZW50J1xuICAgICAgICB9LFxuICAgICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLlJFR0VYUCxcbiAgICAgICAgZm9sbG93czoge31cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJlZ2V4cDogL14oW2EtejAtOV9dezMsM30pJC9pLFxuICAgICAgICBrZXk6ICdzeXN0ZW1JZCcsXG4gICAgICAgIGFyZ3NNYXA6IHtcbiAgICAgICAgICAxOiAnc3lzdGVtSWQnXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgICBmb2xsb3dzOiB7fVxuICAgICAgfVxuICAgIF0sXG4gIH07XG5cblxuXG5cbiAgdmFyIHN5c3RlbU9iamVjdElkID0gVW5pdFRlc3RMaXN0Lm1hcChmdW5jdGlvbiAoc0VudHJ5KSB7XG4gICAgdmFyIHNTdHJpbmcgPSBhcmVnZXguZXhlYyhzRW50cnkpWzFdOyAvLy5tYXRjaCgnLyhbXi9dKikucXVuaXQuaHRtbCcpWzFdXG4gICAgcmV0dXJuIHtcbiAgICAgIGtleTogXCJzeXN0ZW1PYmplY3RJZFwiLFxuICAgICAgd29yZDogc1N0cmluZyxcbiAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCxcbiAgICAgIGZvbGxvd3M6IHtcbiAgICAgICAgc3lzdGVtT2JqZWN0Q2F0ZWdvcnk6IFwidW5pdCB0ZXN0XCIsXG4gICAgICAgIHN5c3RlbU9iamVjdElkOiBzU3RyaW5nXG4gICAgICB9XG4gICAgfVxuICB9KTsgLy8gbWFwXG5cblxuICB2YXIgc3lzdGVtT2JqZWN0SWQyID0gW1xuICAgIC8vIHdpa2kgYWxpYXNlcywgdGhpcyBpcyBhbiBvbGQgbGVnYWN5IGZvcmFtdFxuICAgIHtcbiAgICAgIGtleTogJ1N1cHBvcnQgcGFnZScsXG4gICAgICByZXM6ICdDQS1VSTItSU5ULUZFIHN1cHBvcnQnLFxuICAgIH0sXG4gICAgeyBrZXk6ICdGQ0MgQUJBUCBBbGlnbm1lbnQnIH0sXG4gICAgeyBrZXk6ICdVSTIgdGVzdCBsaW5rcycgfSxcbiAgICB7IGtleTogJ1N1cHBvcnQgc2NoZWR1bGUnLCByZXM6ICdUSVAgQ29yZSBVSSBJbnRlZ3JhdGlvbiBzdXBwb3J0JyB9LFxuICAgIHsga2V5OiAnVUlJIFN1cHBvcnQgc2NoZWR1bGUnLCByZXM6ICdUSVAgQ29yZSBVSSBJbnRlZ3JhdGlvbiBzdXBwb3J0JyB9LFxuICAgIHtcbiAgICAgIGtleTogJ1VJMiBTdXBwb3J0IHBhZ2UnLFxuICAgICAgcmVzOiAnQ0EtVUkyLUlOVC1GRSBzdXBwb3J0J1xuICAgIH0sXG4gICAge1xuICAgICAga2V5OiAnQmFja2VuZCBTcHJpbnQgUmV2aWV3cycsXG4gICAgICByZXM6ICdCYWNrZW5kIFNwcmludCBSZXZpZXcnXG4gICAgfSxcbiAgICB7XG4gICAgICBrZXk6ICdVSTUgcGF0Y2ggc2NoZWR1bGUnLFxuICAgICAgcmVzOiAnVUk1IFVJMiBQYXRjaCBwbGFuJ1xuICAgIH1cbiAgXS5tYXAoZnVuY3Rpb24gKG9FbnRyeTogeyBrZXk6IHN0cmluZywgcmVzPzogc3RyaW5nIH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgd29yZDogb0VudHJ5LmtleSxcbiAgICAgIGtleTogXCJzeXN0ZW1PYmplY3RJZFwiLFxuICAgICAgdHlwZTogSU1hdGNoLkVudW1SdWxlVHlwZS5XT1JELFxuICAgICAgZm9sbG93czoge1xuICAgICAgICBzeXN0ZW1PYmplY3RDYXRlZ29yeTogXCJ3aWtpXCIsXG4gICAgICAgIHN5c3RlbU9iamVjdElkOiAob0VudHJ5LnJlcyB8fCBvRW50cnkua2V5KS50b0xvd2VyQ2FzZSgpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAgICk7IC8vIG1hcFxuXG5cbiAgc3lzdGVtT2JqZWN0SWQgPSBzeXN0ZW1PYmplY3RJZC5jb25jYXQoc3lzdGVtT2JqZWN0SWQyIGFzIGFueSk7XG5cbiAgc3lzdGVtT2JqZWN0SWQgPSBzeXN0ZW1PYmplY3RJZC5jb25jYXQoW1xuICAgIHtcbiAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCxcbiAgICAgIGtleTogXCJzeXN0ZW1PYmplY3RJZFwiLFxuICAgICAgd29yZDogXCJmbHBkXCIsXG4gICAgICBmb2xsb3dzOiB7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLlJFR0VYUCxcbiAgICAgIGtleTogXCJzeXN0ZW1PYmplY3RJZFwiLFxuICAgICAgcmVnZXhwOiAvXlxcUyskL2ksXG4gICAgICBmb2xsb3dzOiB7XG4gICAgICAgIF9yYW5raW5nOiAwLjlcbiAgICAgIH1cbiAgICB9XG4gIF0gYXMgYW55KVxuXG4gIG9SdWxlTWFwW1wic3lzdGVtT2JqZWN0SWRcIl0gPSBzeXN0ZW1PYmplY3RJZDtcblxuICByZXR1cm4gb1J1bGVNYXA7XG5cbn1cblxudmFyIG1SdWxlQXJyYXk6IEFycmF5PElNYXRjaC5tUnVsZT47XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlTVJ1bGVGdWxsKGE6IElNYXRjaC5tUnVsZSwgYjogSU1hdGNoLm1SdWxlKSB7XG4gIHZhciByID0gYS5jYXRlZ29yeS5sb2NhbGVDb21wYXJlKGIuY2F0ZWdvcnkpO1xuICBpZiAocikge1xuICAgIHJldHVybiByO1xuICB9XG4gIHIgPSBhLnR5cGUgLSBiLnR5cGU7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgaWYgKGEubWF0Y2hlZFN0cmluZyAmJiBiLm1hdGNoZWRTdHJpbmcpIHtcbiAgICByID0gYS5tYXRjaGVkU3RyaW5nLmxvY2FsZUNvbXBhcmUoYi5tYXRjaGVkU3RyaW5nKTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9XG4gIGlmIChhLndvcmQgJiYgYi53b3JkKSB7XG4gICAgdmFyIHIgPSBhLndvcmQubG9jYWxlQ29tcGFyZShiLndvcmQpO1xuICAgIGlmKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfVxuICByID0gKGEuX3JhbmtpbmcgfHwgMS4wKSAtIChiLl9yYW5raW5nIHx8IDEuMCk7XG4gIGlmKHIpIHtcbiAgICByZXR1cm4gcjtcbiAgfVxuICBpZihhLmV4YWN0T25seSAmJiAhYi5leGFjdE9ubHkpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYoYi5leGFjdE9ubHkgJiYgIWEuZXhhY3RPbmx5KSB7XG4gICAgcmV0dXJuICsxO1xuICB9XG4gIHJldHVybiAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY21wTVJ1bGUoYTogSU1hdGNoLm1SdWxlLCBiOiBJTWF0Y2gubVJ1bGUpIHtcbiAgdmFyIHIgPSBhLmNhdGVnb3J5LmxvY2FsZUNvbXBhcmUoYi5jYXRlZ29yeSk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgciA9IGEudHlwZSAtIGIudHlwZTtcbiAgaWYgKHIpIHtcbiAgICByZXR1cm4gcjtcbiAgfVxuICBpZiAoYS5tYXRjaGVkU3RyaW5nICYmIGIubWF0Y2hlZFN0cmluZykge1xuICAgIHIgPSBhLm1hdGNoZWRTdHJpbmcubG9jYWxlQ29tcGFyZShiLm1hdGNoZWRTdHJpbmcpO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gIH1cbiAgaWYgKGEud29yZCAmJiBiLndvcmQpIHtcbiAgICByZXR1cm4gYS53b3JkLmxvY2FsZUNvbXBhcmUoYi53b3JkKTtcbiAgICAvKlxuICAgIGlmKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH0qL1xuICB9XG4gIHIgPSAoYS5fcmFua2luZyB8fCAxLjApIC0gKGIuX3JhbmtpbmcgfHwgMS4wKTtcbiAgaWYocikge1xuICAgIHJldHVybiByO1xuICB9XG4gIHJldHVybiAwO1xuICAvKlxuICBpZihhLmV4YWN0T25seSAmJiAhYi5leGFjdE9ubHkpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYoYi5leGFjdE9ubHkgJiYgIWEuZXhhY3RPbmx5KSB7XG4gICAgcmV0dXJuICsxO1xuICB9Ki9cblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50TVJ1bGVzU2FtcGxlKCk6IEFycmF5PElNYXRjaC5tUnVsZT4ge1xuICB2YXIgbVJ1bGVzID0gW10gYXMgQXJyYXk8SU1hdGNoLm1SdWxlPjtcbiAgbVJ1bGVzID0gbVJ1bGVzLmNvbmNhdChbXG4gICAgLy8gYSBnZW5lcmljIHJ1bGUgZm9yIGFueSBpZFxuICAgIHtcbiAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgY2F0ZWdvcnk6IFwic3lzdGVtT2JqZWN0SWRcIixcbiAgICAgIHJlZ2V4cDogL15cXFMrJC9pLFxuICAgICAgYml0aW5kZXggOiAweDAxLFxuICAgICAgX3Jhbmtpbmc6IDAuNVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogSU1hdGNoLkVudW1SdWxlVHlwZS5SRUdFWFAsXG4gICAgICBjYXRlZ29yeTogXCJmaW9yaSBjYXRhbG9nXCIsXG4gICAgICByZWdleHA6IC9eW0EtWjAtOWEtel9cXC9dKyQvaSxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIF9yYW5raW5nOiAwLjVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgY2F0ZWdvcnk6IFwiY2xpZW50XCIsXG4gICAgICByZWdleHA6IC9eXFxkezMsM30kL2ksXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICBfcmFua2luZzogMC44XG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLlJFR0VYUCxcbiAgICAgIGNhdGVnb3J5OiBcInN5c3RlbUlkXCIsXG4gICAgICByZWdleHA6IC9eW0EtWl1bQS1aMC05XVtBLVowLTldJC9pLFxuICAgICAgYml0aW5kZXggOiAweDAxLFxuICAgICAgX3Jhbmtpbmc6IDAuN1xuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogSU1hdGNoLkVudW1SdWxlVHlwZS5XT1JELFxuICAgICAgY2F0ZWdvcnk6IFwic3lzdGVtSWRcIixcbiAgICAgIHdvcmQ6IFwiVVYyXCIsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICBtYXRjaGVkU3RyaW5nOiBcIlVWMlwiXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiBJTWF0Y2guRW51bVJ1bGVUeXBlLlJFR0VYUCxcbiAgICAgIGNhdGVnb3J5OiBcInRyYW5zYWN0aW9uXCIsXG4gICAgICByZWdleHA6IC9eW0EtWl1bQS1aMC05X117MywzfSQvaSxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIF9yYW5raW5nOiAwLjdcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgY2F0ZWdvcnk6IFwiZmlvcmkgY2F0YWxvZ1wiLFxuICAgICAgcmVnZXhwOiAvXlNBUF9CQ1tBLVpdW0EtWjAtOV9dKiQvLFxuICAgICAgYml0aW5kZXggOiAweDAxLFxuICAgICAgX3Jhbmtpbmc6IDAuODVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6IElNYXRjaC5FbnVtUnVsZVR5cGUuUkVHRVhQLFxuICAgICAgY2F0ZWdvcnk6IFwiZmlvcmkgY2F0YWxvZ1wiLFxuICAgICAgcmVnZXhwOiAvXlNBUF9UQ1tBLVpdW0EtWjAtOV9dKiQvLFxuICAgICAgYml0aW5kZXggOiAweDAxLFxuICAgICAgX3Jhbmtpbmc6IDAuODVcbiAgICB9LFxuICAgIC8vIGEgZmV3IHVuaXQgdGVzdHNcbiAgICB7XG4gICAgICBjYXRlZ29yeTogXCJ1bml0IHRlc3RcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwiTmF2VGFyZ2V0UmVzb2x1dGlvblwiLFxuICAgICAgdHlwZTogMCxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIHdvcmQ6IFwiTmF2VGFyZ2V0UmVzb2x1dGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICBjYXRlZ29yeTogXCJ1bml0IHRlc3RcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwiTmF2VGFyZ2V0UmVzb2x1dGlvbkFkYXB0ZXJcIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICB3b3JkOiBcIk5hdlRhcmdldFJlc29sdXRpb25BZGFwdGVyXCJcbiAgICB9LFxuICAgIC8vIGEgZmV3IHVuaXQgdGVzdHNcbiAgICB7XG4gICAgICBjYXRlZ29yeTogXCJ3aWtpXCIsXG4gICAgICBtYXRjaGVkU3RyaW5nOiBcIlVJMiBJbnRlZ3JhdGlvblwiLFxuICAgICAgdHlwZTogMCxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIHdvcmQ6IFwiVUkyIEludGVncmF0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcIndpa2lcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwiVUkyIFN1cHBvcnQgcGFnZXNcIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICB3b3JkOiBcIlVJMiBTdXBwb3J0IHBhZ2VzXCJcbiAgICB9LFxuICAgIC8vIGNhdGVnb3JpZXMgb2YgdGhpcyBtb2RlbFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgICBtYXRjaGVkU3RyaW5nOiBcIndpa2lcIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICB3b3JkOiBcIndpa2lcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgICBtYXRjaGVkU3RyaW5nOiBcInVuaXQgdGVzdFwiLFxuICAgICAgdHlwZTogMCxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIHdvcmQ6IFwidW5pdCB0ZXN0XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBjYXRlZ29yeTogXCJjYXRlZ29yeVwiLFxuICAgICAgbWF0Y2hlZFN0cmluZzogXCJ1cmxcIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICB3b3JkOiBcInVybFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgY2F0ZWdvcnk6IFwiY2F0ZWdvcnlcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwidHJhbnNhY3Rpb25cIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICB3b3JkOiBcInRyYW5zYWN0aW9uXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBjYXRlZ29yeTogXCJjYXRlZ29yeVwiLFxuICAgICAgbWF0Y2hlZFN0cmluZzogXCJ0cmFuc2FjdGlvblwiLFxuICAgICAgdHlwZTogMCxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIHdvcmQ6IFwidGFcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgICBtYXRjaGVkU3RyaW5nOiBcImZpb3JpIGNhdGFsb2dcIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICB3b3JkOiBcImZpb3JpIGNhdGFsb2dcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcImNhdGVnb3J5XCIsXG4gICAgICBtYXRjaGVkU3RyaW5nOiBcImZpb3JpIGNhdGFsb2dcIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBfcmFua2luZzogMC44LFxuICAgICAgYml0aW5kZXggOiAweDAxLFxuICAgICAgd29yZDogXCJjYXRhbG9nXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBjYXRlZ29yeTogXCJjYXRlZ29yeVwiLFxuICAgICAgbWF0Y2hlZFN0cmluZzogXCJzeXN0ZW1JZFwiLFxuICAgICAgdHlwZTogMCxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIHdvcmQ6IFwic3lzdGVtXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBjYXRlZ29yeTogXCJjYXRlZ29yeVwiLFxuICAgICAgbWF0Y2hlZFN0cmluZzogXCJjbGllbnRcIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICB3b3JkOiBcImNsaWVudFwiLFxuICAgIH0sXG4gICAgLy8gdG9vbHMgb2YgdGhlIHNhbXBsZSBtb2RlbFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcInRvb2xcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwiRkxQRFwiLFxuICAgICAgdHlwZTogMCxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIHdvcmQ6IFwiZmxwZFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgY2F0ZWdvcnk6IFwib3BlcmF0b3JcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwic3RhcnRzIHdpdGhcIixcbiAgICAgIHR5cGU6IDAsXG4gICAgICBiaXRpbmRleCA6IDB4MDEsXG4gICAgICB3b3JkOiBcInN0YXJ0aW5nIHdpdGhcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcInRvb2xcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwiRkxQXCIsXG4gICAgICB0eXBlOiAwLFxuICAgICAgYml0aW5kZXggOiAweDAxLFxuICAgICAgd29yZDogXCJmbHBcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcInRvb2xcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwiRkxQXCIsXG4gICAgICB0eXBlOiAwLFxuICAgICAgYml0aW5kZXggOiAweDAxLFxuICAgICAgd29yZDogXCJGaW9yaSBMYXVuY2hwYWRcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcInRvb2xcIixcbiAgICAgIG1hdGNoZWRTdHJpbmc6IFwid2lraVwiLFxuICAgICAgdHlwZTogMCxcbiAgICAgIGJpdGluZGV4IDogMHgwMSxcbiAgICAgIHdvcmQ6IFwid2lraVwiLFxuICAgIH0sXG5cbiAgICAvLyBmaWxsZXJzXG4gICAgLy8gdG9vbHMgb2YgdGhlIHNhbXBsZSBtb2RlbFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBcImZpbGxlclwiLFxuICAgICAgdHlwZTogMSxcbiAgICAgIHJlZ2V4cDogL14oKHN0YXJ0KXwoc2hvdyl8KGZyb20pfChpbikpJC9pLFxuICAgICAgbWF0Y2hlZFN0cmluZzogXCJmaWxsZXJcIixcbiAgICAgIGJpdGluZGV4IDogMHgwMixcbiAgICAgIF9yYW5raW5nOiAwLjlcbiAgICB9LFxuICBdXG4gICk7XG4gIHZhciBtUnVsZXMgPSBhc3N1cmVMb3dlckNhc2VXb3JkKG1SdWxlcyk7XG4gIHJldHVybiBtUnVsZXMuc29ydChjbXBNUnVsZSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1SdWxlc1NhbXBsZSgpOiBJTWF0Y2guU3BsaXRSdWxlcyB7XG4gIHJldHVybiBNb2RlbC5zcGxpdFJ1bGVzKGdldEludE1SdWxlc1NhbXBsZSgpKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gYXNzdXJlTG93ZXJDYXNlV29yZChtUnVsZXM6IEFycmF5PElNYXRjaC5tUnVsZT4pIHtcbiAgcmV0dXJuIG1SdWxlcy5tYXAoZnVuY3Rpb24gKG9SdWxlKSB7XG4gICAgaWYgKG9SdWxlLnR5cGUgPT09IElNYXRjaC5FbnVtUnVsZVR5cGUuV09SRCkge1xuICAgICAgb1J1bGUubG93ZXJjYXNld29yZCA9IG9SdWxlLndvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG9SdWxlO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVuaXRUZXN0VXJsKHN0cmluZzogc3RyaW5nKSB7XG4gIHJldHVybiBtVW5pdFRlc3RVUkxNYXBbc3RyaW5nXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdpa2lVcmwoc3RyaW5nOiBzdHJpbmcpIHtcbiAgLy8gVE9ET1xuICByZXR1cm4gbVVuaXRUZXN0VVJMTWFwW3N0cmluZ107XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1SdWxlc0Z1bGwoKTogSU1hdGNoLlNwbGl0UnVsZXMge1xuICB2YXIgbVJ1bGVzID0gZ2V0SW50TVJ1bGVzU2FtcGxlKCk7XG4gIG1SdWxlcyA9IG1SdWxlcy5jb25jYXQobVVuaXRUZXN0V29yZHMpO1xuICBtUnVsZXMgPSBhc3N1cmVMb3dlckNhc2VXb3JkKG1SdWxlcyk7XG4gIHJldHVybiBNb2RlbC5zcGxpdFJ1bGVzKG1SdWxlcy5zb3J0KGNtcE1SdWxlKSk7XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
