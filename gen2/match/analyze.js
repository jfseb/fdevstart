/**
 *
 * @module jfseb.fdevstart.analyze
 * @file analyze.ts
 * @copyright (c) 2016 Gerd Forstmann
 */
"use strict";

var InputFilter = require("./inputFilter");
var debug = require("debug");
var debuglog = debug('analyze');
var logger = require("../utils/logger");
var perf = logger.perf('analyze');
var Toolmatcher = require("./toolmatcher");
var Sentence = require("./sentence");
function analyzeAll(sString, rules, aTools, words) {
    "use strict";

    if (sString.length === 0) {
        return [];
    } else {
        perf('analyzeString');
        //   InputFilter.resetCnt();
        var matched = InputFilter.analyzeString(sString, rules, words);
        perf('analyzeString');
        //   InputFilter.dumpCnt();
        perf('expand');
        debuglog("After matched " + JSON.stringify(matched));
        var aSentences = InputFilter.expandMatchArr(matched);
        aSentences.sort(Sentence.cmpRankingProduct);
        debuglog("after expand" + aSentences.map(function (oSentence) {
            return Sentence.rankingProduct(oSentence) + ":" + Sentence.dumpNice(oSentence);
        }).join("\n"));
        if (debuglog.enabled) {
            debuglog(" after expand:" + Sentence.dumpNiceArr(aSentencesReinforced, Sentence.rankingProduct));
        }
        perf('expand');
        var aSentencesReinforced = InputFilter.reinForce(aSentences);
        //aSentences.map(function(oSentence) { return InputFilter.reinForce(oSentence); });
        aSentencesReinforced.sort(Sentence.cmpRankingProduct);
        debuglog("after reinforce \n" + aSentencesReinforced.map(function (oSentence) {
            return Sentence.rankingProduct(oSentence) + ":" + Sentence.dumpNice(oSentence);
        }).join("\n"));
        if (debuglog.enabled) {
            debuglog(" after reinforce:" + Sentence.dumpNiceArr(aSentencesReinforced, Sentence.rankingProduct));
        }
        aSentencesReinforced = Sentence.cutoffSentenceAtRatio(aSentencesReinforced);
        perf('matchTools');
        var matchedTools = Toolmatcher.matchTools(aSentencesReinforced, aTools); //aTool: Array<IMatch.ITool>): any /* objectstream*/ {
        perf('matchTools');
        debuglog(" matchedTools" + JSON.stringify(matchedTools, undefined, 2));
        return matchedTools;
    }
}
exports.analyzeAll = analyzeAll;
/**
 * TODO: rework this to work correctly with sets
 */
function isComplete(match) {
    // TODO -> analyze sets
    return match && match.rank > 0.6 && Object.keys(match.toolmatchresult.missing || {}).length === 0;
}
exports.isComplete = isComplete;
function getPrompt(match) {
    if (!match) {
        return;
    }
    if (match.rank < 0.6) {
        return undefined;
    }
    if (Object.keys(match.toolmatchresult.missing).length) {
        var missing = Object.keys(match.toolmatchresult.missing)[0];
        return {
            category: missing,
            text: 'Please provide a missing "' + missing + '"?'
        };
    }
    return undefined;
}
exports.getPrompt = getPrompt;
function setPrompt(match, prompt, response) {
    if (!match) {
        return;
    }
    if (response.toLowerCase() !== 'cancel' && response.toLowerCase() !== 'abort') {
        var u = {};
        u.category = prompt.category;
        u._ranking = 1.0;
        u.matchedString = response;
        /// TODO test whether this can be valid at all?
        match.toolmatchresult.required[prompt.category] = u;
        delete match.toolmatchresult.missing[prompt.category];
    }
}
exports.setPrompt = setPrompt;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tYXRjaC9hbmFseXplLnRzIl0sIm5hbWVzIjpbIklucHV0RmlsdGVyIiwicmVxdWlyZSIsImRlYnVnIiwiZGVidWdsb2ciLCJsb2dnZXIiLCJwZXJmIiwiVG9vbG1hdGNoZXIiLCJTZW50ZW5jZSIsImFuYWx5emVBbGwiLCJzU3RyaW5nIiwicnVsZXMiLCJhVG9vbHMiLCJ3b3JkcyIsImxlbmd0aCIsIm1hdGNoZWQiLCJhbmFseXplU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImFTZW50ZW5jZXMiLCJleHBhbmRNYXRjaEFyciIsInNvcnQiLCJjbXBSYW5raW5nUHJvZHVjdCIsIm1hcCIsIm9TZW50ZW5jZSIsInJhbmtpbmdQcm9kdWN0IiwiZHVtcE5pY2UiLCJqb2luIiwiZW5hYmxlZCIsImR1bXBOaWNlQXJyIiwiYVNlbnRlbmNlc1JlaW5mb3JjZWQiLCJyZWluRm9yY2UiLCJjdXRvZmZTZW50ZW5jZUF0UmF0aW8iLCJtYXRjaGVkVG9vbHMiLCJtYXRjaFRvb2xzIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsImlzQ29tcGxldGUiLCJtYXRjaCIsInJhbmsiLCJPYmplY3QiLCJrZXlzIiwidG9vbG1hdGNocmVzdWx0IiwibWlzc2luZyIsImdldFByb21wdCIsImNhdGVnb3J5IiwidGV4dCIsInNldFByb21wdCIsInByb21wdCIsInJlc3BvbnNlIiwidG9Mb3dlckNhc2UiLCJ1IiwiX3JhbmtpbmciLCJtYXRjaGVkU3RyaW5nIiwicmVxdWlyZWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFPQTs7QUFFQSxJQUFBQSxjQUFBQyxRQUFBLGVBQUEsQ0FBQTtBQUVBLElBQUFDLFFBQUFELFFBQUEsT0FBQSxDQUFBO0FBRUEsSUFBTUUsV0FBV0QsTUFBTSxTQUFOLENBQWpCO0FBSUEsSUFBQUUsU0FBQUgsUUFBQSxpQkFBQSxDQUFBO0FBQ0EsSUFBSUksT0FBT0QsT0FBT0MsSUFBUCxDQUFZLFNBQVosQ0FBWDtBQU9BLElBQUFDLGNBQUFMLFFB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Q0Q7QUFDRCxRQUFHSyxPQUFPQyxJQUFQLENBQVlILE1BQU1JLGVBQU4sQ0FBc0JDLE9BQWxDLEVBQTJDN0IsTUFBOUMsRUFBdUQ7QUFDckQsWUFBSTZCLFVBQVVILE9BQU9DLElBQVAsQ0FBWUgsTUFBTUksZUFBTixDQUFzQkMsT0FBbEMsRUFBMkMsQ0FBM0MsQ0FBZDtBQUNBLGVBQU87QUFDTEUsc0JBQVdGLE9BRE47QUFFTEcsa0JBQU8sK0JBQStCSCxPQUEvQixHQUF5QztBQUYzQyxTQUFQO0FBSUQ7QUFDRCxXQUFPUixTQUFQO0FBQ0Q7QUFmREMsUUFBQVEsU0FBQSxHQUFBQSxTQUFBO0FBa0JBLFNBQUFHLFNBQUEsQ0FBMEJULEtBQTFCLEVBQXFEVSxNQUFyRCxFQUNFQyxRQURGLEVBQ21CO0FBQ2YsUUFBRyxDQUFDWCxLQUFKLEVBQVc7QUFDVDtBQUNEO0FBQ0QsUUFBSVcsU0FBU0MsV0FBVCxPQUEyQixRQUEzQixJQUF1Q0QsU0FBU0MsV0FBVCxPQUEyQixPQUF0RSxFQUErRTtBQUM3RSxZQUFJQyxJQUFJLEVBQVI7QUFDQUEsVUFBRU4sUUFBRixHQUFhRyxPQUFPSCxRQUFwQjtBQUNBTSxVQUFFQyxRQUFGLEdBQWEsR0FBYjtBQUNBRCxVQUFFRSxhQUFGLEdBQWtCSixRQUFsQjtBQUNBO0FBQ0FYLGNBQU1JLGVBQU4sQ0FBc0JZLFFBQXRCLENBQStCTixPQUFPSCxRQUF0QyxJQUFrRE0sQ0FBbEQ7QUFDQSxlQUFPYixNQUFNSSxlQUFOLENBQXNCQyxPQUF0QixDQUE4QkssT0FBT0gsUUFBckMsQ0FBUDtBQUNGO0FBQ0g7QUFkRFQsUUFBQVcsU0FBQSxHQUFBQSxTQUFBIiwiZmlsZSI6Im1hdGNoL2FuYWx5emUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiBAbW9kdWxlIGpmc2ViLmZkZXZzdGFydC5hbmFseXplXG4gKiBAZmlsZSBhbmFseXplLnRzXG4gKiBAY29weXJpZ2h0IChjKSAyMDE2IEdlcmQgRm9yc3RtYW5uXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCAqIGFzIElucHV0RmlsdGVyIGZyb20gJy4vaW5wdXRGaWx0ZXInO1xuXG5pbXBvcnQgKiBhcyBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5cbmNvbnN0IGRlYnVnbG9nID0gZGVidWcoJ2FuYWx5emUnKTtcblxuXG5cbmltcG9ydCAqIGFzIGxvZ2dlciBmcm9tICcuLi91dGlscy9sb2dnZXInO1xudmFyIHBlcmYgPSBsb2dnZXIucGVyZignYW5hbHl6ZScpO1xuXG5cbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJ2Fib3RfdXRpbHMnO1xuXG5pbXBvcnQgKiBhcyBJTWF0Y2ggZnJvbSAnLi9pZm1hdGNoJztcblxuaW1wb3J0ICogYXMgVG9vbG1hdGNoZXIgZnJvbSAnLi90b29sbWF0Y2hlcic7XG5cbmltcG9ydCAqIGFzIFNlbnRlbmNlIGZyb20gJy4vc2VudGVuY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gYW5hbHl6ZUFsbChzU3RyaW5nOiBzdHJpbmcsIHJ1bGVzOiBJTWF0Y2guU3BsaXRSdWxlcywgYVRvb2xzOiBBcnJheTxJTWF0Y2guSVRvb2w+LCB3b3Jkcz8gKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICBpZiAoc1N0cmluZy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH0gZWxzZSB7XG4gICAgcGVyZignYW5hbHl6ZVN0cmluZycpO1xuIC8vICAgSW5wdXRGaWx0ZXIucmVzZXRDbnQoKTtcbiAgICB2YXIgbWF0Y2hlZCA9IElucHV0RmlsdGVyLmFuYWx5emVTdHJpbmcoc1N0cmluZywgcnVsZXMsIHdvcmRzKTtcbiAgICBwZXJmKCdhbmFseXplU3RyaW5nJyk7XG4gLy8gICBJbnB1dEZpbHRlci5kdW1wQ250KCk7XG4gICAgcGVyZignZXhwYW5kJyk7XG4gICAgZGVidWdsb2coXCJBZnRlciBtYXRjaGVkIFwiICsgSlNPTi5zdHJpbmdpZnkobWF0Y2hlZCkpO1xuICAgIHZhciBhU2VudGVuY2VzID0gSW5wdXRGaWx0ZXIuZXhwYW5kTWF0Y2hBcnIobWF0Y2hlZCk7XG5cbiAgICBhU2VudGVuY2VzLnNvcnQoU2VudGVuY2UuY21wUmFua2luZ1Byb2R1Y3QpO1xuICAgIGRlYnVnbG9nKFwiYWZ0ZXIgZXhwYW5kXCIgKyBhU2VudGVuY2VzLm1hcChmdW5jdGlvbiAob1NlbnRlbmNlKSB7XG4gICAgICByZXR1cm4gU2VudGVuY2UucmFua2luZ1Byb2R1Y3Qob1NlbnRlbmNlKSArIFwiOlwiICsgU2VudGVuY2UuZHVtcE5pY2Uob1NlbnRlbmNlKTtcbiAgICB9KS5qb2luKFwiXFxuXCIpKTtcbiAgICBpZiAoZGVidWdsb2cuZW5hYmxlZCkge1xuICAgICAgZGVidWdsb2coXCIgYWZ0ZXIgZXhwYW5kOlwiICsgU2VudGVuY2UuZHVtcE5pY2VBcnIoYVNlbnRlbmNlc1JlaW5mb3JjZWQsIFNlbnRlbmNlLnJhbmtpbmdQcm9kdWN0KSk7XG4gICAgfVxuICAgIHBlcmYoJ2V4cGFuZCcpO1xuICAgIHZhciBhU2VudGVuY2VzUmVpbmZvcmNlZCA9IElucHV0RmlsdGVyLnJlaW5Gb3JjZShhU2VudGVuY2VzKTtcbiAgICAvL2FTZW50ZW5jZXMubWFwKGZ1bmN0aW9uKG9TZW50ZW5jZSkgeyByZXR1cm4gSW5wdXRGaWx0ZXIucmVpbkZvcmNlKG9TZW50ZW5jZSk7IH0pO1xuICAgIGFTZW50ZW5jZXNSZWluZm9yY2VkLnNvcnQoU2VudGVuY2UuY21wUmFua2luZ1Byb2R1Y3QpO1xuICAgIGRlYnVnbG9nKFwiYWZ0ZXIgcmVpbmZvcmNlIFxcblwiICsgYVNlbnRlbmNlc1JlaW5mb3JjZWQubWFwKGZ1bmN0aW9uIChvU2VudGVuY2UpIHtcbiAgICAgIHJldHVybiBTZW50ZW5jZS5yYW5raW5nUHJvZHVjdChvU2VudGVuY2UpICsgXCI6XCIgKyBTZW50ZW5jZS5kdW1wTmljZShvU2VudGVuY2UpO1xuICAgIH0pLmpvaW4oXCJcXG5cIikpO1xuICAgIGlmIChkZWJ1Z2xvZy5lbmFibGVkKSB7XG4gICAgICBkZWJ1Z2xvZyhcIiBhZnRlciByZWluZm9yY2U6XCIgKyBTZW50ZW5jZS5kdW1wTmljZUFycihhU2VudGVuY2VzUmVpbmZvcmNlZCwgU2VudGVuY2UucmFua2luZ1Byb2R1Y3QpKTtcbiAgICB9XG4gICAgYVNlbnRlbmNlc1JlaW5mb3JjZWQgPSBTZW50ZW5jZS5jdXRvZmZTZW50ZW5jZUF0UmF0aW8oYVNlbnRlbmNlc1JlaW5mb3JjZWQpXG4gICAgcGVyZignbWF0Y2hUb29scycpO1xuICAgIHZhciBtYXRjaGVkVG9vbHMgPSBUb29sbWF0Y2hlci5tYXRjaFRvb2xzKGFTZW50ZW5jZXNSZWluZm9yY2VkLCBhVG9vbHMpOyAvL2FUb29sOiBBcnJheTxJTWF0Y2guSVRvb2w+KTogYW55IC8qIG9iamVjdHN0cmVhbSovIHtcbiAgICBwZXJmKCdtYXRjaFRvb2xzJyk7XG4gICAgZGVidWdsb2coXCIgbWF0Y2hlZFRvb2xzXCIgKyBKU09OLnN0cmluZ2lmeShtYXRjaGVkVG9vbHMsIHVuZGVmaW5lZCwgMikpO1xuICAgIHJldHVybiBtYXRjaGVkVG9vbHM7XG4gIH1cbn1cblxuLyoqXG4gKiBUT0RPOiByZXdvcmsgdGhpcyB0byB3b3JrIGNvcnJlY3RseSB3aXRoIHNldHNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNDb21wbGV0ZShtYXRjaCA6ICBJTWF0Y2guSVRvb2xNYXRjaCkge1xuICAvLyBUT0RPIC0+IGFuYWx5emUgc2V0c1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2gucmFuayA+IDAuNiAmJlxuICAgIE9iamVjdC5rZXlzKG1hdGNoLnRvb2xtYXRjaHJlc3VsdC5taXNzaW5nIHx8e30pLmxlbmd0aCA9PT0gMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvbXB0KG1hdGNoIDogIElNYXRjaC5JVG9vbE1hdGNoKSB7XG4gIGlmKCFtYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICB9XG4gIGlmIChtYXRjaC5yYW5rIDwgMC42ICkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgaWYoT2JqZWN0LmtleXMobWF0Y2gudG9vbG1hdGNocmVzdWx0Lm1pc3NpbmcpLmxlbmd0aCApIHtcbiAgICB2YXIgbWlzc2luZyA9IE9iamVjdC5rZXlzKG1hdGNoLnRvb2xtYXRjaHJlc3VsdC5taXNzaW5nKVswXTtcbiAgICByZXR1cm4ge1xuICAgICAgY2F0ZWdvcnkgOiBtaXNzaW5nLFxuICAgICAgdGV4dCA6ICdQbGVhc2UgcHJvdmlkZSBhIG1pc3NpbmcgXCInICsgbWlzc2luZyArICdcIj8nXG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFByb21wdChtYXRjaCA6IElNYXRjaC5JVG9vbE1hdGNoLCBwcm9tcHQ6IElNYXRjaC5JUHJvbXB0LFxuICByZXNwb25zZSA6IHN0cmluZykge1xuICAgIGlmKCFtYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2UudG9Mb3dlckNhc2UoKSAhPT0gJ2NhbmNlbCcgJiYgcmVzcG9uc2UudG9Mb3dlckNhc2UoKSAhPT0gJ2Fib3J0Jykge1xuICAgICAgdmFyIHUgPSB7fSBhcyBJTWF0Y2guSVdvcmQ7XG4gICAgICB1LmNhdGVnb3J5ID0gcHJvbXB0LmNhdGVnb3J5O1xuICAgICAgdS5fcmFua2luZyA9IDEuMDtcbiAgICAgIHUubWF0Y2hlZFN0cmluZyA9IHJlc3BvbnNlO1xuICAgICAgLy8vIFRPRE8gdGVzdCB3aGV0aGVyIHRoaXMgY2FuIGJlIHZhbGlkIGF0IGFsbD9cbiAgICAgIG1hdGNoLnRvb2xtYXRjaHJlc3VsdC5yZXF1aXJlZFtwcm9tcHQuY2F0ZWdvcnldID0gdTtcbiAgICAgIGRlbGV0ZSBtYXRjaC50b29sbWF0Y2hyZXN1bHQubWlzc2luZ1twcm9tcHQuY2F0ZWdvcnldO1xuICAgfVxufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
